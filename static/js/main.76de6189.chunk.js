(this["webpackJsonpgestor-psa"]=this["webpackJsonpgestor-psa"]||[]).push([[0],{105:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=r.a.createContext({setMostrar:function(){return null},setMensaje:function(){return null}})},145:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(403),c=t(8),l=t(40),i=t(402),s=t(89);a.a=function(e){var a=e.tabsProps,t=e.tabProps,n=Object(c.useLocation)().pathname.split("/")[1],u=s.a.find((function(e){return e.route==="/".concat(n)}))||!1;return r.a.createElement(o.a,Object.assign({value:u&&u.route},a),s.a.map((function(e,a){var n=e.label,o=e.route;return r.a.createElement(i.a,Object.assign({key:a,to:o,label:n,value:o,component:l.a},t))})))}},232:function(e,a,t){e.exports=t.p+"static/media/logo.f3ef6d24.png"},234:function(e,a,t){"use strict";(function(e){var n=t(0),r=t.n(n),o=t(404),c=t(162),l=t(235),i=Object(c.a)((function(e){return{drawerPaper:{background:e.palette.primary.main,minWidth:200,paddingTop:e.spacing(4)}}}));a.a=function(a){var t=a.open,n=a.onClose,c=a.onOpen,s=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),u=i();return r.a.createElement(o.a,{disableBackdropTransition:!s,disableDiscovery:s,anchor:"right",open:t,onClose:n,onOpen:c,classes:{paper:u.drawerPaper}},r.a.createElement(l.a,{onTabClick:n}))}}).call(this,t(170))},235:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(162),c=t(145),l=Object(o.a)((function(e){return{tabItem:{textTransform:"none",fontSize:20,fontWeight:600,color:"white",maxWidth:"none"},indicator:{left:0},tabWrapper:{alignItems:"baseline"}}}));a.a=function(e){var a=e.onTabClick,t=l();return r.a.createElement(c.a,{tabsProps:{orientation:"vertical",classes:{indicator:t.indicator}},tabProps:{className:t.tabItem,classes:{wrapper:t.tabWrapper},onClick:a}})}},275:function(e,a,t){e.exports=t(387)},386:function(e,a){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},387:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),c=t(250),l=t(453),i=t(451),s=t(109),u=t.n(s),m=(t(285),function(e){var a=e.children,t=Object(c.a)({palette:{primary:{main:"#47CC31",lighter:function(e){return u()("#47CC31").lighten(e/100).hex()}},secondary:{main:"#B531CC",lighter:function(e){return u()("#B531CC").lighten(e/100).hex()}}}});return r.a.createElement(n.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(l.a,{theme:t},a))}),p=t(8);function d(){var e=Object(p.useLocation)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var f=t(162),E=Object(f.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"calc(100vh)",backgroundColor:e.palette.background.default,userSelect:"none",transition:"background .5s ease"}}})),g=function(e){var a=e.children,t=E();return r.a.createElement("div",{className:t.root},a)},h=t(11),b=t(455),v=t(493),j=t(458),O=t(247),y=t.n(O),C=t(456),k=t(232),x=t.n(k),N=t(40),w=t(233),D=t.n(w)()((function(e){return{link:{textAlign:"center",textDecoration:"none",outline:0},logo:{width:"auto",height:function(e){return e.height},margin:function(a){return a.showName?0:e.spacing(1.5)}}}})),M=function(e){var a=e.height,t=D({height:a});return r.a.createElement(N.a,{to:"/",className:t.link},r.a.createElement("div",{className:t.logoWrapper},r.a.createElement("img",{src:x.a,className:t.logo,alt:"logo"})))},S=t(234),q=t(145),T=Object(f.a)((function(e){return{tabItem:{textTransform:"none",fontSize:20,fontWeight:600,color:"white"},desktopTabs:{alignItems:"flex-end",position:"absolute",left:"51%",transform:"translateX(-50%)",height:"100%"}}})),F=function(){var e=T();return r.a.createElement(q.a,{tabsProps:{className:e.desktopTabs},tabProps:{className:e.tabItem}})},P=t(501),I=t(89),z=t(251),R=Object(b.a)((function(e){return{title:{color:e.palette.secondary.contrastText,fontWeight:500,fontSize:28}}})),B=function(){var e=R(),a=Object(p.useLocation)(),t=I.a.find((function(e){return a.pathname===e.route||a.pathname.startsWith(e.route+"/")}));return r.a.createElement(P.a,{mdUp:!0},r.a.createElement(z.a,{variant:"h5",className:e.title},"/"===a.pathname?"Home":t&&t.label||"404"))},Y=Object(b.a)((function(e){return{appBar:{zIndex:100},separator:{flexGrow:1},menuButton:{color:e.palette.grey[50]},container:{display:"flex",position:"relative"},logo:{width:50,margin:e.spacing(2,0)},title:{display:"flex",alignItems:"center",position:"absolute",left:"51%",transform:"translateX(-50%)",height:"100%"}}})),V=function(){var e=Y(),a=r.a.useState(!1),t=Object(h.a)(a,2),o=t[0],c=t[1],l=function(){return c(!0)};return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{position:"static",className:e.appBar},r.a.createElement(C.a,{fixed:!0,className:e.container},r.a.createElement(M,{height:50}),r.a.createElement("div",{className:e.separator}),r.a.createElement(P.a,{smDown:!0},r.a.createElement(F,null)),r.a.createElement(P.a,{mdUp:!0},r.a.createElement("div",{className:e.title},r.a.createElement(B,null)),r.a.createElement(j.a,{className:e.menuButton,onClick:l},r.a.createElement(y.a,{fontSize:"large"}))))),r.a.createElement(S.a,{open:o,onOpen:l,onClose:function(){return c(!1)}}))},H=t(23),A=t(457),L=t(188),W=t(190),_=t(191),G=Object(f.a)((function(e){return{socialItem:{display:"flex",alignItems:"baseline",justifyContent:"center"},iconWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"100%",border:"2px solid ".concat(e.palette.primary.lighter(90)),color:e.palette.primary.lighter(90),transition:"background .2s ease-in-out, color .2s ease-in-out","&:hover":{color:e.palette.primary.main,background:e.palette.primary.lighter(80),border:"2px solid ".concat(e.palette.primary.lighter(80))}}}})),U=[{link:"//github.com/gestor-psa/",icon:W.a},{link:"//www.linkedin.com/",icon:W.b},{link:"",icon:_.a}],Q=function(){var e=G();return r.a.createElement(A.a,{container:!0,spacing:2},U.map((function(a){var t=a.link,n=a.icon;return r.a.createElement(A.a,{item:!0,xs:3,md:2,className:e.socialItem,key:t},r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:e.iconWrapper},r.a.createElement(L.a,{icon:n,size:"2x"})))})),r.a.createElement(A.a,{item:!0,xs:3,md:2,className:e.socialItem},r.a.createElement("a",{href:"/",className:e.iconWrapper},r.a.createElement(L.a,{icon:_.b,size:"2x"}))))},J=Object(f.a)((function(e){return{root:Object(H.a)({display:"flex",justifyContent:"center",color:e.palette.primary.lighter(70),marginTop:e.spacing(2)},e.breakpoints.down("sm"),{marginTop:e.spacing(4)}),item:Object(H.a)({},e.breakpoints.only("xs"),{display:"flex",width:"100%"}),itemContent:Object(H.a)({},e.breakpoints.only("xs"),{margin:"auto"}),text:{display:"inline"},copyright:Object(H.a)({},e.breakpoints.only("sm"),{display:"flex",width:"100%",justifyContent:"center"})}})),X=function(){var e=J();return r.a.createElement(A.a,{container:!0,spacing:1,className:e.root},r.a.createElement(A.a,{item:!0,className:"".concat(e.item," ").concat(e.copyright)},r.a.createElement("div",{className:e.itemContent},r.a.createElement(z.a,{variant:"h6",className:e.text},"Copyright \xa9 ",(new Date).getFullYear()))))},$=Object(f.a)((function(e){return{appBar:Object(H.a)({marginTop:"auto",zIndex:0,paddingTop:e.spacing(4)},e.breakpoints.down("xs"),{paddingTop:e.spacing(3)}),container:{padding:e.spacing(2,2)},gridContainer:{padding:e.spacing(.5)}}})),K=function(){var e=$();return r.a.createElement(v.a,{position:"static",className:e.appBar,component:"footer"},r.a.createElement(C.a,{fixed:!0,className:e.container},r.a.createElement(A.a,{container:!0,spacing:2,className:e.gridContainer},r.a.createElement(A.a,{item:!0,xs:12,sm:3},r.a.createElement(M,{height:130})),r.a.createElement(A.a,{item:!0,xs:12,sm:9},r.a.createElement(Q,null)),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(X,null)))))},Z=t(248),ee=function(e){var a=Object(Z.a)(e),t=a.push;return Object(n.useEffect)((function(){a.push=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.location;e===r.pathname+r.search+r.hash&&JSON.stringify(n)===JSON.stringify(r.state||{})||t(e,n)}}),[t,a]),r.a.createElement(p.Router,{history:a,children:e.children})},ae=(t(386),t(500)),te=t(498),ne=t(17),re=t.n(ne),oe=Object(b.a)((function(e){return{snackbar:{bottom:30}}})),ce=function(){var e=Object(n.useState)(!1),a=Object(h.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),l=Object(h.a)(c,2),i=l[0],s=l[1],u=oe();return Object(n.useEffect)((function(){re.a.interceptors.response.use((function(e){return e}),(function(e){return 500<=e.response.status&&e.response.status<=599?(s("Ha ocurrido un error inesperado, por favor intente nuevamente en unos minutos."),o(!0),new Promise((function(){}))):404===e.response.status?(s("No se ha encontrado el recurso que est\xe1 buscando, por favor vuelva al inicio."),o(!0),new Promise((function(){}))):Promise.reject(e)}))}),[]),r.a.createElement(ae.a,{open:t,className:u.snackbar,onClose:function(){return o(!1)}},r.a.createElement(te.a,{onClose:function(){return o(!1)},severity:"error",variant:"filled"},i))},le=t(105),ie=Object(b.a)((function(e){return{alert:{marginTop:e.spacing(10),border:"solid",borderWidth:1,borderColor:e.palette.primary.dark,borderRadius:5}}})),se=function(e){var a=e.children,t=ie(),o=Object(n.useState)(!1),c=Object(h.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(h.a)(s,2),m=u[0],p=u[1],d={setMostrar:function(e){return i(e)},setMensaje:function(e){return p(e)}};return r.a.createElement(le.a.Provider,{value:d},l&&r.a.createElement(ae.a,{open:l,className:t.snackbar,onClose:function(){return i(!1)},anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(te.a,{severity:"success",className:t.alert,onClose:function(){return i(!1)}},m)),a)},ue=t(47),me=t(249),pe=function(e){var a=e.children;return r.a.createElement(ue.a,{utils:me.a},a)},de=function(){return r.a.createElement(m,null,r.a.createElement(pe,null,r.a.createElement(ee,null,r.a.createElement(g,null,r.a.createElement(ce,null),r.a.createElement(d,null),r.a.createElement(se,null,r.a.createElement(V,null),r.a.createElement(I.b,null),r.a.createElement(K,null))))))};Object(o.render)(r.a.createElement(de,null),document.getElementById("root"))},89:function(e,a,t){"use strict";t.d(a,"a",(function(){return pn}));var n=t(0),r=t.n(n),o=t(8),c=t(23),l=t(455),i=t(456),s=Object(l.a)((function(e){return{wrapper:{margin:e.spacing(2,0)}}})),u=function(e){var a=e.children,t=s();return r.a.createElement(i.a,{fixed:!0},r.a.createElement("div",{className:t.wrapper},a))},m=t(193),p=Object(l.a)((function(e){return{paper:Object(c.a)({padding:e.spacing(5)},e.breakpoints.only("xs"),{padding:e.spacing(2)})}})),d=function(){var e=p();return r.a.createElement(u,null,r.a.createElement(m.a,{className:e.paper},r.a.createElement("p",null,"Home")))},f=t(11),E=t(236),g=function(e){var a=e.title,t=e.description;return r.a.createElement(E.a,{title:"PSA".concat(a?" | "+a:""),meta:[{name:"description",content:t}]})},h=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(g,{title:"404 Not Found",description:"Error, p\xe1gina no encontrada."}),r.a.createElement("div",null,"It looks like you are lost."))},b=t(162),v=Object(b.a)((function(e){return{root:{position:"relative"}}})),j=function(e){var a=e.children,t=Object(n.useState)(!1),o=Object(f.a)(t,2),c=o[0],l=o[1],i=function(){return l(!0)},s=v();return r.a.createElement("div",{className:s.root},r.a.Children.toArray(a).map((function(e){return r.a.cloneElement(e,{onMatch:i})})),!c&&r.a.createElement(h,null))},O=t(72),y=t(499),C=Object(b.a)((function(e){return{wrapper:function(e){var a=e.duration;return{display:"block","&.page-enter":{opacity:0,transform:"scale(1.1)"},"&.page-enter-active":{opacity:1,transform:"scale(1)",transition:"opacity ".concat(a,"ms, transform ").concat(a,"ms")},"&.page-exit":{position:"absolute",left:0,top:0,width:"100%",opacity:1,transform:"scale(1)"},"&.page-exit-active":{opacity:0,transform:"scale(0.9)",transition:"opacity ".concat(a,"ms, transform ").concat(a,"ms")}}}}})),k=function(e){var a=e.match,t=e.onMatch,o=e.children,c=C({duration:600});return Object(n.useEffect)((function(){a&&t()}),[a,t]),r.a.createElement(y.a,{in:null!=a,timeout:600,classNames:"page",unmountOnExit:!0},r.a.createElement("div",{className:c.wrapper},o))},x=function(e){var a=e.children,t=e.onMatch,n=Object(O.a)(e,["children","onMatch"]);return r.a.createElement(o.Route,n,(function(e){var n=e.match;return r.a.createElement(k,{match:n,onMatch:t},a)}))},N=t(17),w=t.n(N),D=function(e){var a=e.mapf,t=e.url,o=Object(n.useState)(),c=Object(f.a)(o,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){w.a.get("https://psa-proyectos.herokuapp.com"+t).then((function(e){console.log(e),e.data.sort((function(e,a){return(e.id||e.codigo)<(a.id||a.codigo)&&e||a})),i(e.data)})).catch((function(e){}))}),[t]),r.a.createElement(n.Fragment,null,l&&l.map(a))},M=t(251),S=Object(l.a)((function(e){return{paper:{padding:"15px",marginTop:e.spacing(3),border:"2px solid black"}}})),q=function(e){var a=S(),t=Object(o.useHistory)();return r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{elevation:3,className:a.paper,onClick:function(){return a=e.proyecto.id,void t.push("".concat(t.location.pathname,"/")+a);var a},square:!1,variant:"outlined"},r.a.createElement(M.a,{gutterBottom:!0,variant:"h2",align:"left"},e.proyecto.nombre),r.a.createElement(M.a,{variant:"body1",align:"left"},"Fecha de Inicio: ",e.proyecto.fechaInicio),r.a.createElement(M.a,{variant:"body1",align:"left"},"Estado: ",e.proyecto.estado)))},T=t(394),F=t(239),P=Object(l.a)((function(e){return{cta:{marginTop:e.spacing(3)}}})),I=function(){var e=P(),a=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(T.a,{color:"secondary",variant:"contained",to:"".concat(a,"/crear"),component:F.Link,className:e.cta},"Nuevo proyecto")},z=t(25),R=t(457),B=t(395),Y=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)})}})),V=function(e){var a=e.titulo,t=e.ladoIzquierdo,n=e.ladoDerecho,o=e.fin,c=Y(),l=Object(B.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(m.a,{className:c.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h4"},a)),r.a.createElement(R.a,{item:!0,container:!0,spacing:l?6:2,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},t),r.a.createElement(R.a,{item:!0,xs:12,md:6},n)),r.a.createElement(R.a,{item:!0,xs:12},o)))},H=t(46),A=t(503),L=t(497),W=t(464),_=t(147),G=t.n(_),U=t(148),Q=t.n(U),J=function(e){var a=e.opciones,t=void 0===a?null:a,n=e.defaultValue,o=e.url,c=void 0===o?"":o,l=e.autocompleteProps,i=void 0===l?{}:l,s=e.textFieldProps,u=void 0===s?{}:s,m=r.a.useState(!1),p=Object(f.a)(m,2),d=p[0],E=p[1],g=r.a.useState(t),h=Object(f.a)(g,2),b=h[0],v=h[1],j=r.a.useState({}),O=Object(f.a)(j,2),y=O[0],C=O[1],k=d&&!b;r.a.useEffect((function(){!t&&k&&w.a.get(c).then((function(e){console.log(e.data),v(e.data);var a=e.data.filter((function(e){return e.dni===n}));a.length>0&&C(a[0])}))}),[c,k,t,n]);var x=i.getOptionLabel||function(e){return e};return r.a.createElement(L.a,Object.assign({},i,{defaultValue:y.name&&y,key:x(y),open:d,openOnFocus:!0,onOpen:function(){return E(!0)},onClose:function(){return E(!1)},options:b||[],noOptionsText:"No encontrado",loading:k,loadingText:"Cargando...",renderInput:function(e){return r.a.createElement(A.a,Object.assign({},u,e,{InputProps:Object(z.a)(Object(z.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,k?r.a.createElement(W.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,a){var t=a.inputValue,n=Q()(x(e),t),o=G()(x(e),n);return r.a.createElement("div",null,o.map((function(e,a){return r.a.createElement("span",{key:a,style:{fontWeight:e.highlight?700:400}},e.text)})))}}))},X=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),$=function(e){var a=e.onDataChange,t=e.register,n=e.errors,o=e.proyecto,c=void 0===o?{}:o,l=X();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:l.campo,key:c.nombre,defaultValue:c.nombre,onChange:function(e){return a({nombre:e.target.value})},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:t({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,label:"Descripci\xf3n",className:l.campo,key:c.descripcion,defaultValue:c.descripcion,onChange:function(e){return a({descripcion:e.target.value})},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:t({required:!0}),helperText:n.descripcion&&"La descripcion es requerida"}),r.a.createElement(J,{url:"https://recursos-psa.herokuapp.com/employees",defaultValue:c.responsableDni,autocompleteProps:{getOptionLabel:function(e){return e.name+" "+e.surname},onChange:function(e,t){return a({responsableDni:t.dni})}},textFieldProps:{label:"Responsable"}}))},K=t(505),Z=t(465),ee=t(461),ae=t(495),te=Object(l.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ne=function(e){var a=e.opciones,t=e.seleccionPorDefecto,o=e.onChange,c=void 0===o?function(){return null}:o,l=Object(n.useState)(t||a[0].valor),i=Object(f.a)(l,2),s=i[0],u=i[1],m=te();return r.a.createElement(ee.a,{className:m.formControl},r.a.createElement(K.a,null,"Estado*"),r.a.createElement(ae.a,{color:"secondary",size:"small",value:t||null},a.map((function(e){var a=e.etiqueta,t=e.valor;return r.a.createElement(Z.a,{value:t,variant:s===t?"contained":"outlined",onClick:function(){u(t),c({valor:t})}},a)}))))},re=function(e){var a=e.onDataChange,t=e.proyecto;return r.a.createElement("div",null,r.a.createElement(ne,{opciones:[{etiqueta:"En Progreso",valor:"en progreso"},{etiqueta:"Finalizado",valor:"finalizado"},{etiqueta:"Detenido",valor:"detenido"},{etiqueta:"Cancelado",valor:"cancelado"}],key:t.estado,seleccionPorDefecto:t.estado,onChange:function(e){var t=e.valor;return a({estado:t})}}))},oe=t(109),ce=t.n(oe),le=Object(l.a)((function(e){return{root:function(a){var t=a.color,n=a.variant;if("outlined"===n)return{color:e.palette[t].main,borderColor:e.palette[t].main,"&:hover":{backgroundColor:ce()(e.palette[t].main).lighten("warning"===t?.9:.67).hex()}};if("contained"===n){var r=ce()(e.palette[t].main).lighten(.7).hex();return{backgroundColor:e.palette[t].main,color:e.palette[t].contrastText,boxShadow:"0px 3px 1px -2px ".concat(r,", 0px 2px 2px 0px ").concat(r,", 0px 1px 5px 0px ").concat(r),"&:hover":{backgroundColor:e.palette[t].dark}}}return"text"===n?{color:e.palette[t].main}:void 0}}})),ie=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.className,o=void 0===n?"":n,c=e.variant,l=void 0===c?"text":c,i=Object(O.a)(e,["color","className","variant"]),s=le({color:t,variant:l});return r.a.createElement(T.a,Object.assign({variant:l},i,{className:"".concat(s.root," ").concat(o)}))},se=Object(l.a)((function(e){return{accion:{margin:e.spacing(0,2)},progreso:{marginLeft:e.spacing(1.5)}}})),ue=function(e){var a=e.children,t=e.inProgress,n=e.className,o=Object(O.a)(e,["children","inProgress","className"]),c=se();return r.a.createElement(ie,Object.assign({},o,{className:"".concat(c.accion," ").concat(n)}),a,t&&r.a.createElement(W.a,{size:20,color:"inherit",className:c.progreso}))},me=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},accion:{margin:e.spacing(0,2)},progreso:{marginRight:e.spacing(1.5)}}})),pe=function(e){var a=e.onConfirmar,t=e.textoConfirmar,n=e.esperando,c=me(),l=Object(o.useHistory)();return r.a.createElement("div",{className:c.acciones},r.a.createElement(ue,{color:"info",variant:"outlined",onClick:a,inProgress:n},t),r.a.createElement(ie,{color:"error",variant:"outlined",onClick:function(){return l.goBack()}},"Cancelar"))},de=Object(l.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function fe(e){var a=e.tag,t=e.name,n=e.defvalue,o=void 0===n?"YYYY-MM-DD":n,l=e.onChange,i=de();return r.a.createElement("form",{className:i.container,noValidate:!0},r.a.createElement(A.a,{id:"date",label:t,type:"date",defaultValue:o,className:i.textField,onChange:function(e){l(Object(c.a)({},a,e.target.value))},InputLabelProps:{shrink:!0}}))}var Ee,ge,he=function(e){var a=e.proyecto,t=void 0===a?{}:a,n=e.onChange,o=void 0===n?function(){return null}:n;return r.a.createElement(R.a,null,r.a.createElement(fe,{tag:"fechaInicio",name:"Fecha de Inicio",onChange:o,defvalue:t.fechaInicio}),r.a.createElement(fe,{tag:"fechaFin",name:"Fecha de Fin",onChange:o,defvalue:t.fechaFin}))},be=function(e){var a=e.titulo,t=e.onConfirm,o=void 0===t?function(){return null}:t,c=e.proyecto,l=void 0===c?{duracion:0}:c,i=Object(H.b)(),s=i.register,u=i.errors,m=i.handleSubmit,p=Object(n.useState)(l),d=Object(f.a)(p,2),E=d[0],g=d[1],h=Object(n.useState)(!1),b=Object(f.a)(h,2),v=b[0],j=b[1],O=function(e){return g(Object(z.a)(Object(z.a)({},E),e))};return r.a.createElement(V,{titulo:a,ladoIzquierdo:r.a.createElement($,{proyecto:l,errors:u,register:s,onDataChange:O}),ladoDerecho:r.a.createElement(R.a,null,r.a.createElement(re,{proyecto:l,onDataChange:O}),r.a.createElement(he,{proyecto:l,onChange:O})),fin:r.a.createElement(pe,{onConfirmar:m((function(){j(!0),console.log(E),o(E)})),esperando:v,textoConfirmar:"Confirmar"})})},ve=t(242),je=t.n(ve),Oe=function(e){var a=e.fecha,t=e.formato,o=void 0===t?"DD/MM/YYYY HH:mm":t;return r.a.createElement(n.Fragment,null,a?r.a.createElement(je.a,{date:a,local:!0,format:o}):"")},ye=t(399),Ce=Object(l.a)({root:{position:"relative"},esqueleto:{position:function(e){return e.mostrar?"absolute":"initial"},top:0,left:0,width:"100%"}}),ke=function(e){var a=e.children,t=e.esqueleto,n=e.mostrar,o=e.timeout,c=void 0===o?500:o,l=e.className,i=void 0===l?"":l,s=e.clases,u=void 0===s?{esqueleto:""}:s,m=Ce({mostrar:n});return r.a.createElement("div",{className:"".concat(m.root," ").concat(i)},n&&r.a.createElement(ye.a,{in:!0,timeout:c},r.a.createElement("div",null,a)),r.a.createElement(ye.a,{in:!n,timeout:c,unmountOnExit:!0},r.a.createElement("div",{className:"".concat(m.esqueleto," ").concat(u.esqueleto)},t)))},xe=t(466),Ne=Object(l.a)((function(e){return{grupo:{margin:e.spacing(1,0),display:"flex"},descriptor:{fontWeight:600},esqueleto:{flexGrow:1}}})),we=function(e){var a=e.etiqueta,t=e.mostrar,n=e.valor,o=Ne();return r.a.createElement("div",{className:o.grupo},r.a.createElement(M.a,{className:o.descriptor},a,":\xa0"),r.a.createElement(ke,{mostrar:t,className:o.esqueleto,esqueleto:r.a.createElement(M.a,null,r.a.createElement(xe.a,null))},r.a.createElement(M.a,null,n)))},De=Object(l.a)((function(e){return{grupo:{margin:e.spacing(1,0),display:"flex"},descriptor:{fontWeight:600},esqueleto:{flexGrow:1},esqueletoDescripcion:{width:"100%"}}})),Me=function(e){var a=e.etiqueta,t=e.mostrar,o=e.valor,c=e.filas,l=De();return r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{className:l.descriptor},a,":\xa0")),r.a.createElement(ke,{mostrar:t,className:l.esqueletoDescripcion,esqueleto:r.a.createElement(n.Fragment,null,Array(c).fill(null).map((function(e,a){return r.a.createElement(R.a,{key:a,item:!0,xs:12},r.a.createElement(M.a,null,r.a.createElement(xe.a,null)))})))},r.a.createElement(M.a,{className:l.campo},o)))},Se=function(e){var a=e.mostrar,t=e.nombre,o=e.descripcion,c=e.responsableDni,l=e.estado,i=e.fechaInicio,s=e.fechaFin,u=r.a.useState(!1),m=Object(f.a)(u,2),p=m[0],d=m[1];return r.a.useEffect((function(){c&&w.a.get("https://recursos-psa.herokuapp.com/employees/"+c).then((function(e){d(e.data),console.log(e.data)}))}),[c]),r.a.createElement(n.Fragment,null,r.a.createElement(M.a,{variant:"h4"},t&&t.capitalize()),o&&r.a.createElement(Me,{filas:3,etiqueta:"Descripci\xf3n",mostrar:a,valor:o&&o.capitalize()}),c&&r.a.createElement(we,{etiqueta:"Responsable",mostrar:a,valor:p&&p.name&&p.name+" "+p.surname||"Sin asignar"}),l&&r.a.createElement(we,{etiqueta:"Estado",mostrar:a&&l,valor:l&&l.capitalize()}),i&&r.a.createElement(we,{etiqueta:"Fecha de inicio",mostrar:a&&i,valor:r.a.createElement(Oe,{fecha:i})}),s&&r.a.createElement(we,{etiqueta:"Fecha de finalizaci\xf3n",mostrar:a,valor:r.a.createElement(Oe,{fecha:s})}),void 0)},qe=t(498),Te=t(467),Fe=t(400),Pe=Object(l.a)((function(e){return{tooltip:{backgroundColor:"rgb(255, 244, 229)",borderStyle:"solid",borderColor:e.palette.warning.main,borderWidth:"thin",minWidth:260},tooltipArrow:{color:e.palette.warning.main},botones:{margin:e.spacing(0,1),marginTop:e.spacing(1)}}})),Ie=function(e){var a=e.mensaje,t=e.children,o=e.open,c=e.onConfirmar,l=e.onCancelar,i=Pe(),s=Object(n.useState)(!1),u=Object(f.a)(s,2),m=u[0],p=u[1];return r.a.createElement(Fe.a,{classes:{tooltip:i.tooltip,arrow:i.tooltipArrow},PopperProps:{disablePortal:!0},placement:"top",interactive:!0,leaveDelay:500,arrow:!0,onClose:l,open:o||m,disableFocusListener:!0,disableTouchListener:!0,title:r.a.createElement(qe.a,{severity:"warning"},r.a.createElement(Te.a,null,a),r.a.createElement(ue,{color:"warning",onClick:function(){p(!0),c()},variant:"contained",className:i.botones,inProgress:m},"S\xed"),r.a.createElement(ie,{variant:"outlined",color:"warning",onClick:l,className:i.botones},"No"))},r.a.createElement("div",null,t))},ze=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},acciones:{margin:e.spacing(0,2)}}})),Re=function(e){var a=e.mostrar,t=e.verFases,c=e.verTareas,l=e.verIteraciones,i=Object(o.useParams)().id,s=ze(),u=(Object(o.useRouteMatch)()||{}).url,m=Object(n.useState)(!1),p=Object(f.a)(m,2),d=p[0],E=p[1],g=Object(o.useHistory)();return r.a.createElement("div",{className:s.root},r.a.createElement(Ie,{mensaje:"\xbfDar de baja proyecto?",open:d,onCancelar:function(){return E(!1)},onConfirmar:function(){w.a.delete("https://psa-proyectos.herokuapp.com/proyectos/"+i).then((function(e){})).catch((function(e){console.log(e.response)})),g.push("/proyectos")}},r.a.createElement(ie,{onClick:function(){return E(!0)},disabled:!a,variant:"outlined",color:"error",className:s.acciones},"Dar de Baja")),t&&r.a.createElement(ie,{onClick:function(){return g.push("".concat(u,"/fases"))},disabled:!a,variant:"outlined",color:"warning",className:s.acciones},"Ver Fases"),l&&r.a.createElement(ie,{onClick:function(){return g.push("".concat(u,"/iteraciones"))},disabled:!a,variant:"outlined",color:"warning",className:s.acciones},"Ver Iteraciones"),c&&r.a.createElement(ie,{onClick:function(){return g.push("".concat(u,"/tareas"))},disabled:!a,variant:"outlined",color:"warning",className:s.acciones},"Ver Tareas"),r.a.createElement(T.a,{disabled:!a,color:"secondary",variant:"contained",className:s.acciones,onClick:function(){return g.push("".concat(u,"/modificacion"))}},"Modificar"))},Be=function(){var e=Object(o.useHistory)();return r.a.createElement(ie,{onClick:function(){return e.goBack()},variant:"outlined",color:"warning"}," Volver")},Ye=function(e){var a=e.proyectoId,t=e.setFaseProyecto,c=Object(o.useParams)().id,l=Object(n.useState)(),i=Object(f.a)(l,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){w.a.get("https://psa-proyectos.herokuapp.com/proyectos/"+a+"/fases/"+c).then((function(e){u(e.data),t(e.data)})).catch((function(e){}))}),[c,a,t]),r.a.createElement(R.a,null,r.a.createElement(Se,Object.assign({mostrar:Boolean(s)},s)),r.a.createElement(Re,{mostrar:!0,verIteraciones:!0}))},Ve=function(){var e=Object(o.useParams)().id,a=(Object(o.useRouteMatch)()||{}).path,t=Object(n.useState)(),c=Object(f.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(),u=Object(f.a)(s,2),m=u[0],p=u[1],d=Object(o.useHistory)();console.log(m),Object(n.useEffect)((function(){w.a.get("https://psa-proyectos.herokuapp.com/proyectos/"+e).then((function(e){i(e.data)})).catch((function(e){}))}),[e]);var E=r.a.createElement(M.a,{color:"error"},"Error al cargar proyecto");return r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:a},r.a.createElement(Se,Object.assign({mostrar:Boolean(l)},l)),r.a.createElement(Re,{mostrar:!0,verFases:!0,verTareas:!0})),r.a.createElement(x,{exact:!0,path:"".concat(a,"/modificacion")},r.a.createElement(be,{onConfirm:function(a){w.a.put("https://psa-proyectos.herokuapp.com/proyectos/"+e,a).then((function(t){d.push("/proyectos/"+e),i(a),console.log(t)})).catch((function(e){console.log(e.response)}))},titulo:"Modificar Proyecto",proyecto:l})),r.a.createElement(x,{exact:!0,path:"".concat(a,"/tareas")},r.a.createElement(Be,null),l&&r.a.createElement(D,{url:"/proyectos/"+e+"/tareas",mapf:function(e){return r.a.createElement(q,{proyecto:e,key:e.id})}})||E),r.a.createElement(x,{exact:!0,path:"".concat(a,"/fases")},r.a.createElement(Be,null),r.a.createElement(D,{url:"/proyectos/"+e+"/fases",mapf:function(e){return r.a.createElement(q,{proyecto:e,key:e.id})}})),r.a.createElement(x,{exact:!0,path:"".concat(a,"/fases/crear")},r.a.createElement(Be,null),"crear fase"),r.a.createElement(x,{exact:!0,path:"".concat(a,"/fases/:id(\\d+)")},r.a.createElement(Ye,{proyectoId:e,setFaseProyecto:p})),r.a.createElement(x,{exact:!0,path:"".concat(a,"/fases/:id(\\d+)/iteraciones")},r.a.createElement(Be,null)))},He=function(e){var a=e.mostrar,t=e.id,o=e.nombre,c=e.descripcion,l=e.responsable,i=e.tipo,s=e.severidad,u=e.estado,m=e.fechaDeCreacion,p=e.fechaDeActualizacion;return r.a.createElement(n.Fragment,null,r.a.createElement(we,{etiqueta:"C\xf3digo",mostrar:a,valor:"#".concat(t)}),r.a.createElement(we,{etiqueta:"Nombre",mostrar:a,valor:o}),r.a.createElement(Me,{filas:3,etiqueta:"Descripci\xf3n",mostrar:a,valor:c}),r.a.createElement(we,{etiqueta:"Responsable",mostrar:a,valor:l}),r.a.createElement(we,{etiqueta:"Tipo",mostrar:a,valor:i&&i.capitalize()}),r.a.createElement(we,{etiqueta:"Severidad",mostrar:a,valor:s&&s.capitalize()}),r.a.createElement(we,{etiqueta:"Estado",mostrar:a,valor:u&&u.capitalize()}),r.a.createElement(we,{etiqueta:"Fecha de creaci\xf3n",mostrar:a,valor:r.a.createElement(Oe,{fecha:m})}),r.a.createElement(we,{etiqueta:"Fecha de actualizaci\xf3n",mostrar:a,valor:r.a.createElement(Oe,{fecha:p})}))},Ae=t(468),Le=t(469),We=t(470),_e=t(472),Ge=t(473),Ue=t(471),Qe=Object(l.a)((function(e){return{root:{minHeight:430},comentarios:{margin:0,maxHeight:300,overflow:"auto"},item:{minHeight:"auto"},itemOpuesto:{"&:before":{flex:0,padding:0}},conector:{backgroundColor:e.palette.secondary.light},campoTexto:{width:"100%"},botonWrapper:{display:"flex",justifyContent:"flex-end"},boton:{marginTop:e.spacing(2)}}})),Je=function(e){var a=e.mostrar,t=Qe(),n=["El ticket fue resuelta correctamente.","El cliente se comunic\xf3 nuevamente para informar que el problema a\xfan no fue resuelto.","Se abri\xf3 una tarea en el proyecto PSA ERP."];return r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{variant:"h6"},"Comentarios:"),r.a.createElement(ke,{mostrar:a,esqueleto:r.a.createElement(xe.a,{variant:"rect",height:400})},r.a.createElement(Ae.a,{className:t.comentarios},n.map((function(e,a){return r.a.createElement(Le.a,{key:a,classes:{root:t.item,missingOppositeContent:t.itemOpuesto}},r.a.createElement(We.a,null,r.a.createElement(Ue.a,{className:t.conector}),n.length-1!==a&&r.a.createElement(_e.a,{className:t.conector})),r.a.createElement(Ge.a,null,r.a.createElement(M.a,null,e)))}))),r.a.createElement(A.a,{multiline:!0,rowsMax:4,label:"Nuevo comentario",color:"secondary",className:t.campoTexto}),r.a.createElement("div",{className:t.botonWrapper},r.a.createElement(T.a,{color:"secondary",variant:"outlined",className:t.boton},"Agregar comentario"))))},Xe=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},acciones:{margin:e.spacing(0,2)}}})),$e=function(e){var a=e.mostrar,t=e.onModificar,o=e.onEliminar,c=e.onCrearTarea,l=Xe(),i=Object(n.useState)(!1),s=Object(f.a)(i,2),u=s[0],m=s[1];return r.a.createElement("div",{className:l.root},r.a.createElement(Ie,{mensaje:"\xbfEliminar ticket?",open:u,onCancelar:function(){return m(!1)},onConfirmar:o},r.a.createElement(ie,{onClick:function(){return m(!0)},disabled:!a,variant:"outlined",color:"error",className:l.acciones},"Eliminar")),r.a.createElement(ie,{onClick:c,disabled:!a,variant:"outlined",color:"warning",className:l.acciones},"Crear tarea"),r.a.createElement(T.a,{disabled:!a,color:"secondary",variant:"contained",className:l.acciones,onClick:t},"Modificar"))},Ke=t(507),Ze=t(508),ea=t(478),aa=t(474),ta=t(475),na=t(476),ra=t(477),oa=Object(l.a)((function(e){return{masAcciones:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3)},eliminar:{color:e.palette.error.main},crearTarea:{color:e.palette.warning.dark},modificar:{color:e.palette.info.dark},backdrop:{zIndex:1e3,backgroundColor:"rgba(0,0,0,0.34)"}}})),ca=function(e){var a=e.mostrar,t=e.onModificar,o=e.onEliminar,c=e.onCrearTarea,l=oa(),i=Object(n.useState)(!1),s=Object(f.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),E=d[0],g=d[1],h=function(){return g(!0)},b=function(){return g(!1)};Object(n.useEffect)((function(){!u&&b()}),[u]);var v=[{icon:r.a.createElement(aa.a,{className:l.modificar,onClick:t}),title:r.a.createElement("span",{className:l.modificar,onClick:t},"Modificar")},{icon:r.a.createElement(ta.a,{className:l.crearTarea,onClick:c}),title:r.a.createElement("span",{className:l.crearTarea,onClick:c},"Crear\xa0Tarea")},{icon:r.a.createElement(na.a,{className:l.eliminar,onClick:h}),title:r.a.createElement(Ie,{mensaje:"\xbfEliminar ticket?",open:E,onCancelar:b,onConfirmar:o},r.a.createElement("span",{className:l.eliminar,onClick:h},"Eliminar"))}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra.a,{open:u,className:l.backdrop}),r.a.createElement(Ke.a,{disabled:!a,className:l.masAcciones,icon:r.a.createElement(Ze.a,null),onClose:function(){return m(!1)},onOpen:function(){return m(!0)},open:u,FabProps:{color:"secondary",disabled:!a},ariaLabel:"acciones"},v.map((function(e,a){return r.a.createElement(ea.a,{key:a,icon:e.icon,tooltipTitle:e.title,tooltipOpen:!0})}))))},la=t(501),ia=t(105),sa=function(e){var a=e.mostrar,t=(Object(o.useRouteMatch)()||{}).url,c=Object(o.useParams)().id,l=Object(o.useHistory)(),i=Object(n.useContext)(ia.a),s=i.setMostrar,u=i.setMensaje,m=function(){return l.push("".concat(t,"/modificacion"))},p=function(){w.a.delete("https://psa-soporte.herokuapp.com/tickets/"+c).then((function(e){l.push("/soporte/tickets"),u("Ticket eliminado"),s(!0)})).catch((function(e){console.log(e.response)}))},d=function(){return l.push("".concat(t,"/creacion-tarea"))};return r.a.createElement(n.Fragment,null,r.a.createElement(la.a,{smDown:!0},r.a.createElement($e,{mostrar:a,onEliminar:p,onModificar:m,onCrearTarea:d})),r.a.createElement(la.a,{mdUp:!0},r.a.createElement(ca,{mostrar:a,onEliminar:p,onModificar:m,onCrearTarea:d})))},ua=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)})}})),ma=function(e){var a=e.titulo,t=e.ladoIzquierdo,n=e.ladoDerecho,o=e.fin,c=ua(),l=Object(B.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(m.a,{className:c.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h4"},a)),r.a.createElement(R.a,{item:!0,container:!0,spacing:l?6:2,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},t),r.a.createElement(R.a,{item:!0,xs:12,md:6},n)),r.a.createElement(R.a,{item:!0,xs:12},o)))},pa=t(480),da=t(481),fa=t(482),Ea=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.secondary.light},tituloTarea:{color:"white"},descriptor:{display:"inline",color:"white",fontWeight:600},valor:{display:"inline",color:"white",fontWeight:500}}})),ga=function(e){var a=e.tarea,t=e.onClick,n=Ea();return r.a.createElement(pa.a,{className:n.root,raised:!1},r.a.createElement(da.a,{onClick:t},r.a.createElement(fa.a,null,r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{gutterBottom:!0,variant:"h6",className:n.tituloTarea},a.nombre)),r.a.createElement(R.a,{item:!0,xs:6},r.a.createElement(M.a,{className:n.descriptor},"Estado:\xa0"),r.a.createElement(M.a,{className:n.valor},a.estado))))))},ha=t(479),ba=Object(b.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(4)},titulo:{marginBottom:e.spacing(2)}}})),va=Object(ha.a)()((function(e){var a=e.tareas,t=e.mostrar,n=e.width,c=ba(),l={xs:12,sm:6,md:4,lg:3},i=Object(o.useHistory)();return r.a.createElement("div",{className:c.root},r.a.createElement(M.a,{variant:"h5",className:c.titulo},"Tareas asociadas"),r.a.createElement(ke,{mostrar:t,esqueleto:r.a.createElement(R.a,{container:!0,spacing:3},Array({xs:1,sm:2,md:3,lg:4}[n]).fill(null).map((function(e,a){return r.a.createElement(R.a,Object.assign({item:!0,key:a},l),r.a.createElement(xe.a,{variant:"rect",height:95}))})))},r.a.createElement(R.a,{container:!0,spacing:3},t&&(a.length>0?a.map((function(e,a){return r.a.createElement(R.a,Object.assign({key:a,item:!0},l),r.a.createElement(ga,{tarea:e,onClick:function(){return a=e.proyectoId,t=e.id,void i.push("/proyectos/".concat(a,"/tareas/").concat(t));var a,t}}))})):r.a.createElement(R.a,{item:!0,xs:10},r.a.createElement(M.a,null,"Aun no hay tareas asociadas."))))))})),ja=function(e){var a=e.ticket;return r.a.createElement(ma,{titulo:"Ver ticket",ladoIzquierdo:r.a.createElement(He,Object.assign({mostrar:Boolean(a)},a)),ladoDerecho:r.a.createElement(Je,{mostrar:Boolean(a)}),fin:r.a.createElement(r.a.Fragment,null,r.a.createElement(va,Object.assign({mostrar:Boolean(a)},a)),r.a.createElement(sa,{mostrar:Boolean(a)}))})},Oa=function(e){var a=e.opciones,t=void 0===a?null:a,n=e.defaultValue,o=void 0===n?{}:n,c=e.url,l=void 0===c?"":c,i=e.autocompleteProps,s=void 0===i?{}:i,u=e.textFieldProps,m=void 0===u?{}:u,p=r.a.useState(!1),d=Object(f.a)(p,2),E=d[0],g=d[1],h=r.a.useState(t),b=Object(f.a)(h,2),v=b[0],j=b[1],O=E&&!v;r.a.useEffect((function(){!t&&O&&w.a.get(l).then((function(e){return j(e.data)}))}),[l,O,t]);var y=s.getOptionLabel||function(e){return e};return r.a.createElement(L.a,Object.assign({},s,{defaultValue:o,key:y(o),open:E,openOnFocus:!0,onOpen:function(){return g(!0)},onClose:function(){return g(!1)},options:v||[],noOptionsText:"No encontrado",loading:O,loadingText:"Cargando...",renderInput:function(e){return r.a.createElement(A.a,Object.assign({},m,e,{InputProps:Object(z.a)(Object(z.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,O?r.a.createElement(W.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,a){var t=a.inputValue,n=Q()(y(e),t),o=G()(y(e),n);return r.a.createElement("div",null,o.map((function(e,a){return r.a.createElement("span",{key:a,style:{fontWeight:e.highlight?700:400}},e.text)})))}}))},ya=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),Ca=function(e){var a=e.onDataChange,t=e.register,n=e.errors,o=e.ticket,c=void 0===o?{}:o,l=ya();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:l.campo,key:"nombre"+c.nombre,defaultValue:c.nombre,onChange:function(e){return a({nombre:e.target.value})},inputProps:{"aria-label":"nombre"},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:t({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,label:"Descripci\xf3n",className:l.campo,key:"descripcion"+c.descripcion,defaultValue:c.descripcion,onChange:function(e){return a({descripcion:e.target.value})},inputProps:{"aria-label":"descripcion"},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:t({required:!0}),helperText:n.descripcion&&"La descripci\xf3n es requerida"}),r.a.createElement(Oa,{defaultValue:{nombre:c.responsable},opciones:[{nombre:"Juan Perez",id:45357946},{nombre:"Sebasti\xe1n Bl\xe1zquez",id:39917487},{nombre:"Carolina Mart\xednez",id:87542369}],autocompleteProps:{getOptionLabel:function(e){return e.nombre||""},getOptionSelected:function(e,a){return e.nombre===a.nombre},onChange:function(e,t){return a({responsable:t&&t.nombre})}},textFieldProps:{label:"Responsable"}}))},ka=t(483),xa=function(e){var a=e.opciones,t=e.seleccionPorDefecto,o=e.onChange,c=void 0===o?function(){return null}:o,l=Object(n.useState)(t||a[0].valor),i=Object(f.a)(l,2),s=i[0],u=i[1],m=Object(B.a)((function(e){return e.breakpoints.only("xs")}));return r.a.createElement(ka.a,{color:"secondary",size:m?"small":"medium"},a.map((function(e){var a=e.etiqueta,t=e.valor;return r.a.createElement(T.a,{key:t,variant:s===t?"contained":"outlined",onClick:function(){u(t),c({valor:t})}},a)})))},Na=Object(l.a)((function(e){return{etiquetaSeleccionDeGrupo:{fontWeight:600,marginTop:e.spacing(2.5)}}})),wa=function(e){var a=e.onDataChange,t=e.ticket,n=void 0===t?{}:t,o=e.conEstado,c=void 0!==o&&o,l=Na();return r.a.createElement("div",null,r.a.createElement(M.a,{className:l.etiquetaSeleccionDeGrupo},"Tipo *"),r.a.createElement(xa,{opciones:[{etiqueta:"Consulta",valor:"consulta"},{etiqueta:"Mejora",valor:"mejora"},{etiqueta:"Incidencia",valor:"incidencia"}],key:n.tipo,seleccionPorDefecto:n.tipo,onChange:function(e){var t=e.valor;return a({tipo:t})}}),r.a.createElement(M.a,{className:l.etiquetaSeleccionDeGrupo},"Severidad *"),r.a.createElement(xa,{opciones:[{etiqueta:"Baja",valor:"baja"},{etiqueta:"Media",valor:"media"},{etiqueta:"Alta",valor:"alta"}],key:n.severidad,seleccionPorDefecto:n.severidad,onChange:function(e){var t=e.valor;return a({severidad:t})}}),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:l.etiquetaSeleccionDeGrupo},"Estado *"),r.a.createElement(xa,{opciones:[{etiqueta:"Pendiente",valor:"pendiente"},{etiqueta:"Iniciado",valor:"iniciado"},{etiqueta:"Cerrado",valor:"cerrado"}],key:n.estado,seleccionPorDefecto:n.estado,onChange:function(e){var t=e.valor;return a({estado:t})}})))},Da=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},accion:{margin:e.spacing(0,2)},progreso:{marginRight:e.spacing(1.5)}}})),Ma=function(e){var a=e.onConfirmar,t=e.textoConfirmar,n=e.esperando,c=Da(),l=Object(o.useHistory)();return r.a.createElement("div",{className:c.acciones},r.a.createElement(ue,{color:"info",variant:"outlined",onClick:a,inProgress:n},t),r.a.createElement(ie,{color:"error",variant:"outlined",onClick:function(){return l.goBack()}},"Cancelar"))},Sa=function(e){var a=e.ticket,t=e.onTicketChange,c=Object(H.b)(),l=c.register,i=c.errors,s=c.handleSubmit,u=Object(n.useState)(a),m=Object(f.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(!1),g=Object(f.a)(E,2),h=g[0],b=g[1],v=function(e){return d(Object(z.a)(Object(z.a)({},p),e))},j=Object(o.useHistory)(),O=Object(o.useParams)().id;Object(n.useEffect)((function(){d(a)}),[a]);return r.a.createElement(ma,{titulo:"Modificar Ticket",ladoIzquierdo:r.a.createElement(Ca,{ticket:a,errors:i,register:l,onDataChange:v}),ladoDerecho:r.a.createElement(wa,{conEstado:!0,ticket:a,onDataChange:v}),fin:r.a.createElement(Ma,{esperando:h,textoConfirmar:"Modificar",onConfirmar:s((function(){b(!0),w.a.put("https://psa-soporte.herokuapp.com/tickets/"+O,p).then((function(e){t(Object(z.a)(Object(z.a)({},a),e.data)),j.push("/soporte/tickets/".concat(e.data.id)),console.log(e)})).catch((function(e){console.log(e.response)}))}))})})},qa=t(28),Ta=Object(l.a)((function(e){return{etiquetaSeleccionDeGrupo:{fontWeight:600,marginTop:e.spacing(2.5)}}})),Fa=function(e){var a=e.onDataChange,t=e.register,n=e.errors,o=Ta();return r.a.createElement("div",null,r.a.createElement(Oa,{url:"https://psa-proyectos.herokuapp.com/proyectos",autocompleteProps:{getOptionLabel:function(e){return e.nombre||""},getOptionSelected:function(e,a){return e.nombre===a.nombre},onChange:function(e,t){return a({proyectoId:t&&t.id})}},textFieldProps:{label:"Proyecto",required:!0,name:"proyecto",error:Boolean(n.proyecto),inputRef:t({required:!0}),helperText:n.descripcion&&"El proyecto es requerido"}}),r.a.createElement(M.a,{className:o.etiquetaSeleccionDeGrupo},"Estado *"),r.a.createElement(xa,{opciones:[{etiqueta:"No iniciado",valor:"no-iniciado"},{etiqueta:"Iniciado",valor:"iniciado"},{etiqueta:"Finalizado",valor:"finalizado"}],onChange:function(e){var t=e.valor;return a({estado:t})}}))},Pa=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),Ia=function(e){var a=e.onDataChange,t=e.register,n=e.errors,o=Pa();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:o.campo,onChange:function(e){return a({nombre:e.target.value})},inputProps:{"aria-label":"nombre"},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:t({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,label:"Descripci\xf3n",className:o.campo,onChange:function(e){return a({descripcion:e.target.value})},inputProps:{"aria-label":"descripcion"},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:t({required:!0}),helperText:n.descripcion&&"La descripci\xf3n es requerida"}))},za=function(e){var a=e.ticket,t=e.onTicketChange,c=Object(H.b)(),l=c.register,i=c.errors,s=c.handleSubmit,u=Object(n.useState)({tipo:"consulta",severidad:"baja"}),m=Object(f.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(!1),g=Object(f.a)(E,2),h=g[0],b=g[1],v=function(e){return d(Object(z.a)(Object(z.a)({},p),e))},j=Object(o.useHistory)();return r.a.createElement(ma,{titulo:"Crear Tarea",ladoIzquierdo:r.a.createElement(Ia,{errors:i,register:l,onDataChange:v}),ladoDerecho:r.a.createElement(Fa,{errors:i,register:l,onDataChange:v}),fin:r.a.createElement(Ma,{onConfirmar:s((function(){b(!0),console.log(p),w.a.post("".concat("https://psa-proyectos.herokuapp.com","/proyectos/").concat(p.proyectoId,"/tareas"),p).then((function(e){console.log(e),t(Object(z.a)(Object(z.a)({},a),{},{tareas:[].concat(Object(qa.a)(a.tareas),[e.data])})),j.push("/soporte/tickets/".concat(a.id))})).catch((function(e){console.log(e)}))})),esperando:h,textoConfirmar:"Crear"})})},Ra=function(e){var a=e.ticket,t=e.onTicketChange,c=Object(o.useParams)().id,l=(Object(o.useRouteMatch)()||{}).path;return Object(n.useEffect)((function(){!a&&c&&Promise.all([w.a.get("https://psa-soporte.herokuapp.com/tickets/"+c)]).then((function(e){var a=Object(f.a)(e,2),n=a[0];a[1];t(Object(z.a)(Object(z.a)({},n.data),{},{tareas:[]}))}))}),[a,t,c]),r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:l},r.a.createElement(ja,{ticket:a})),r.a.createElement(x,{exact:!0,path:"".concat(l,"/modificacion")},r.a.createElement(Sa,{ticket:a,onTicketChange:t})),r.a.createElement(x,{exact:!0,path:"".concat(l,"/creacion-tarea")},r.a.createElement(za,{ticket:a,onTicketChange:t})))},Ba=function(e){var a=e.onTicketChange,t=Object(H.b)(),c=t.register,l=t.errors,i=t.handleSubmit,s=Object(n.useState)({tipo:"consulta",severidad:"baja"}),u=Object(f.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(!1),E=Object(f.a)(d,2),g=E[0],h=E[1],b=function(e){return p(Object(z.a)(Object(z.a)({},m),e))},v=Object(o.useHistory)();return r.a.createElement(ma,{titulo:"Crear Ticket",ladoIzquierdo:r.a.createElement(Ca,{errors:l,register:c,onDataChange:b}),ladoDerecho:r.a.createElement(wa,{errors:l,register:c,onDataChange:b}),fin:r.a.createElement(Ma,{onConfirmar:i((function(){h(!0),console.log(m),w.a.post("https://psa-soporte.herokuapp.com/tickets",m).then((function(e){console.log(e),a(Object(z.a)(Object(z.a)({},e.data),{},{tareas:[]})),v.push("/soporte/tickets/".concat(e.data.id))})).catch((function(e){console.log(e.response)}))})),esperando:g,textoConfirmar:"Crear"})})},Ya=t(485),Va=t(486),Ha=t(488),Aa=t(484),La=t(489),Wa=t(487),_a=Object(l.a)({table:{minWidth:"100%"},skeleton:{top:0,left:0,width:"100%","& td":{width:"100%"},"& tr":{display:"flex"}}}),Ga=function(e){var a=e.rows,t=e.columns,n=_a();return r.a.createElement(Aa.a,{component:m.a,className:n.skeleton},r.a.createElement(Ya.a,{className:n.table},r.a.createElement(Va.a,null,Array(a).fill(null).map((function(e,a){return r.a.createElement(Wa.a,{key:a},Array(t).fill(null).map((function(e,a){return r.a.createElement(Ha.a,{key:a},r.a.createElement(xe.a,null))})))})))))},Ua=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],c=a[1],l=(Object(o.useRouteMatch)()||{}).url,i=Object(o.useHistory)(),s=Object(B.a)((function(e){return e.breakpoints.up("md")}));Object(n.useEffect)((function(){w.a.get("https://psa-soporte.herokuapp.com/tickets").then((function(e){c(e.data)})).catch((function(e){}))}),[]);return r.a.createElement(ke,{mostrar:t,esqueleto:r.a.createElement(Ga,{rows:6,columns:s?6:3})},r.a.createElement(Aa.a,{component:m.a},r.a.createElement(Ya.a,null,r.a.createElement(La.a,null,r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,"Nombre"),s&&r.a.createElement(n.Fragment,null,r.a.createElement(Ha.a,null,"Descripci\xf3n"),r.a.createElement(Ha.a,null,"Responsable")),r.a.createElement(Ha.a,null,"Tipo"),r.a.createElement(Ha.a,null,"Severidad"),s&&r.a.createElement(Ha.a,null,"Estado"))),r.a.createElement(Va.a,null,t&&t.filter((function(e){return"cerrado"!==e.estado})).map((function(e){return r.a.createElement(Wa.a,{hover:!0,key:e.id,onClick:function(){return a=e.id,void i.push("".concat(l,"/").concat(a));var a}},r.a.createElement(Ha.a,null,e.nombre),s&&r.a.createElement(n.Fragment,null,r.a.createElement(Ha.a,null,(a=e.descripcion,t=45,a.length>t&&(a=(a=a.substr(0,t)).substr(0,Math.min(a.length,a.lastIndexOf(" ")))+"..."),a)),r.a.createElement(Ha.a,null,e.responsable)),r.a.createElement(Ha.a,null,e.tipo.capitalize()),r.a.createElement(Ha.a,null,e.severidad.capitalize()),s&&r.a.createElement(Ha.a,null,e.estado.capitalize()));var a,t}))))))},Qa=t(40),Ja=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(3),marginRight:e.spacing(3)}}})),Xa=function(e){var a=e.url,t=e.texto,n=Ja();return r.a.createElement("div",{className:n.acciones},r.a.createElement(T.a,{color:"secondary",variant:"contained",to:a,component:Qa.a},t))},$a=function(){var e=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(n.Fragment,null,r.a.createElement(Ua,null),r.a.createElement(Xa,{url:"".concat(e,"/creacion"),texto:"Nuevo ticket"}))},Ka=function(){var e=(Object(o.useRouteMatch)()||{}).path,a=Object(n.useState)(),t=Object(f.a)(a,2),c=t[0],l=t[1],i=function(e){return l(e)};return r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:e},r.a.createElement($a,null)),r.a.createElement(x,{path:"".concat(e,"/creacion")},r.a.createElement(Ba,{onTicketChange:i})),r.a.createElement(x,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(Ra,{ticket:c,onTicketChange:i})))},Za=Object(l.a)((function(e){return{root:{width:"fit-content",minWidth:"80%",margin:"auto"}}})),et=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],c=a[1],l=(Object(o.useRouteMatch)()||{}).url,i=Object(o.useHistory)(),s=Za();Object(n.useEffect)((function(){w.a.get("https://psa-soporte.herokuapp.com/clientes").then((function(e){c(e.data)})).catch((function(e){}))}),[]);var u=Object(B.a)((function(e){return e.breakpoints.down("sm")}));return r.a.createElement("div",{className:s.root},r.a.createElement(ke,{mostrar:t,esqueleto:r.a.createElement(Ga,{rows:6,columns:u?3:5})},r.a.createElement(Aa.a,{component:m.a},r.a.createElement(Ya.a,null,r.a.createElement(La.a,null,r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,"Nombre"),r.a.createElement(la.a,{smDown:!0},r.a.createElement(Ha.a,null,"Raz\xf3n Social"),r.a.createElement(Ha.a,null,"CUIT")),r.a.createElement(Ha.a,null,"Estado"),r.a.createElement(Ha.a,null,"Fecha desde que es cliente"))),r.a.createElement(Va.a,null,t&&t.map((function(e){return r.a.createElement(Wa.a,{hover:!0,key:e.id,onClick:function(){return a=e.id,i.push("".concat(l,"/").concat(a));var a}},r.a.createElement(Ha.a,null,e.nombre),r.a.createElement(la.a,{smDown:!0},r.a.createElement(Ha.a,null,e.razonSocial),r.a.createElement(Ha.a,null,e.cuit)),r.a.createElement(Ha.a,null,e.estado.capitalize()),r.a.createElement(Ha.a,null,r.a.createElement(Oe,{fecha:e.fechaDesdeQueEsCliente.capitalize(),formato:"DD/MM/YYYY"})))})))))))},at=function(){var e=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(et,null),r.a.createElement(Xa,{url:"".concat(e,"/creacion"),texto:"Nuevo cliente"}))},tt=t(243),nt=Object(l.a)((function(e){return{cuit:{"& input[type=number]::-webkit-inner-spin-button, & input[type=number]::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0}}}})),rt=function(e){var a=e.onDataChange,t=e.control,n=e.errors,o=e.defaultValue,c=void 0===o?"":o,l=e.className,i=void 0===l?"":l,s=nt(),u={required:"El CUIT es requerido",pattern:"El CUIT se compone de 11 n\xfameros",validate:"El CUIT no es valido"};return r.a.createElement(H.a,{name:"cuit",rules:{required:!0,pattern:/^[0-9]{11}$/,validate:function(e){if(11!==e.length)return!1;var a=e.split("").map(Number).reverse(),t=Object(tt.a)(a),n=t[0],r=11-t.slice(1).reduce((function(e,a,t){return e+a*(2+t%6)}),0)%11;return 11===r?0===n:10!==r&&n===r}},control:t,key:c,defaultValue:c,render:function(e){var t=e.onChange,o=e.value;return r.a.createElement(A.a,{onChange:function(e){var n=e.target.value.slice(0,11);a({cuit:n}),t(n)},value:o,label:"CUIT",className:"".concat(s.cuit," ").concat(i),required:!0,type:"number",error:Boolean(n.cuit),helperText:n.cuit&&u[n.cuit.type]})}})},ot=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),ct=function(e){var a=e.onDataChange,t=e.control,n=e.register,o=e.errors,c=e.cliente,l=void 0===c?{}:c,i=ot();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:i.campo,key:l.nombre,defaultValue:l.nombre,onChange:function(e){return a({nombre:e.target.value})},required:!0,name:"nombre",error:Boolean(o.nombre),inputRef:n({required:!0}),helperText:o.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{label:"Raz\xf3n Social",className:i.campo,key:l.razonSocial,defaultValue:l.razonSocial,onChange:function(e){return a({razonSocial:e.target.value})},required:!0,name:"razonSocial",error:Boolean(o.razonSocial),inputRef:n({required:!0}),helperText:o.razonSocial&&"La raz\xf3n social es requerida"}),r.a.createElement(rt,{onDataChange:a,control:t,errors:o,defaultValue:l.cuit,className:i.campo}))},lt=t(494),it=function(e){var a=e.label,t=e.onDataChange,n=e.control,o=e.defaultValue,c=void 0===o?null:o,l=Object(O.a)(e,["label","onDataChange","control","defaultValue"]);return r.a.createElement(H.a,{name:"fechaDesdeQueEsCliente",key:c,defaultValue:c,control:n,rules:{required:!0,validate:function(e){return!e.isValid||e.isValid()}},render:function(e){var n=e.onChange,o=e.value;return r.a.createElement(lt.a,Object.assign({},l,{onChange:function(e){n(e),t({fechaDesdeQueEsCliente:e.format("YYYY-MM-DD")})},autoOk:!0,disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",margin:"normal",label:a,value:o}))}})},st=Object(l.a)((function(e){return{root:{marginTop:e.spacing(1)}}})),ut=function(e){var a=e.onDataChange,t=e.control,n=e.errors,o=e.cliente,c=void 0===o?{}:o,l=st();return r.a.createElement("div",{className:l.root},r.a.createElement(M.a,{className:l.etiquetaSeleccionDeGrupo},"Estado *"),r.a.createElement(xa,{opciones:[{etiqueta:"Activo",valor:"activo"},{etiqueta:"Inactivo",valor:"inactivo"}],key:c.estado,seleccionPorDefecto:c.estado,onChange:function(e){var t=e.valor;return a({estado:t})}}),r.a.createElement("div",{className:l.fecha},r.a.createElement(it,{label:"Fecha desde que es cliente",defaultValue:c.fechaDesdeQueEsCliente,onDataChange:a,required:!0,error:Boolean(n.fechaDesdeQueEsCliente),helperText:n.fechaDesdeQueEsCliente&&{required:"La fecha desde la que es cliente es requerida",validate:"La fecha no es v\xe1lida"}[n.fechaDesdeQueEsCliente.type],control:t})))},mt=function(){var e=Object(H.b)(),a=e.control,t=e.register,c=e.errors,l=e.handleSubmit,i=Object(n.useState)({estado:"activo"}),s=Object(f.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),E=d[0],g=d[1],h=function(e){return m(Object(z.a)(Object(z.a)({},u),e))},b=Object(o.useHistory)();return r.a.createElement(ma,{titulo:"Cargar cliente",ladoIzquierdo:r.a.createElement(ct,{errors:c,register:t,control:a,onDataChange:h}),ladoDerecho:r.a.createElement(ut,{errors:c,control:a,register:t,onDataChange:h}),fin:r.a.createElement(Ma,{onConfirmar:l((function(){g(!0),console.log(u),w.a.post("https://psa-soporte.herokuapp.com/clientes",u).then((function(e){b.push("/soporte/clientes/".concat(e.data.id)),console.log(e)})).catch((function(e){console.log(e.response)}))})),esperando:E,textoConfirmar:"Crear"})})},pt=function(e){var a=e.mostrar,t=e.nombre,o=e.razonSocial,c=e.cuit;return r.a.createElement(n.Fragment,null,r.a.createElement(we,{etiqueta:"Nombre",mostrar:a,valor:t}),r.a.createElement(we,{etiqueta:"Raz\xf3n social",mostrar:a,valor:o}),r.a.createElement(we,{etiqueta:"CUIT",mostrar:a,valor:c}))},dt=function(e){var a=e.mostrar,t=e.fechaDesdeQueEsCliente,o=e.estado,c=e.id;return r.a.createElement(n.Fragment,null,r.a.createElement(we,{etiqueta:"C\xf3digo de cliente",mostrar:a,valor:"#".concat(c)}),r.a.createElement(we,{etiqueta:"Estado",mostrar:a,valor:o&&o.capitalize()}),r.a.createElement(we,{etiqueta:"Fecha desde que es cliente",mostrar:a,valor:r.a.createElement(Oe,{fecha:t,formato:"DD/MM/YYYY"})}))},ft=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},acciones:Object(c.a)({margin:e.spacing(0,2)},e.breakpoints.down("xs"),{margin:e.spacing(0,1)})}})),Et=function(e){var a=e.mostrar,t=e.onModificar,n=ft();return r.a.createElement("div",{className:n.root},r.a.createElement(T.a,{disabled:!a,color:"secondary",variant:"contained",className:n.acciones,onClick:t},"Modificar"))},gt=function(e){var a=e.mostrar,t=(Object(o.useRouteMatch)()||{}).url,c=Object(o.useHistory)();return r.a.createElement(n.Fragment,null,r.a.createElement(Et,{mostrar:a,onModificar:function(){return c.push("".concat(t,"/modificacion"))}}))},ht=function(e){var a=e.cliente;return r.a.createElement(ma,{titulo:"Ver cliente",ladoIzquierdo:r.a.createElement(pt,Object.assign({mostrar:Boolean(a)},a)),ladoDerecho:r.a.createElement(dt,Object.assign({mostrar:Boolean(a)},a)),fin:r.a.createElement(gt,{mostrar:Boolean(a)})})},bt=function(e){var a=e.cliente,t=e.onClienteChange,c=Object(H.b)(),l=c.control,i=c.register,s=c.errors,u=c.handleSubmit,m=Object(n.useState)(a),p=Object(f.a)(m,2),d=p[0],E=p[1],g=Object(n.useState)(!1),h=Object(f.a)(g,2),b=h[0],v=h[1],j=function(e){return E(Object(z.a)(Object(z.a)({},d),e))},O=Object(o.useHistory)(),y=Object(o.useParams)().id;Object(n.useEffect)((function(){E(a)}),[a]);return r.a.createElement(ma,{titulo:"Modificar cliente",ladoIzquierdo:r.a.createElement(ct,{errors:s,register:i,control:l,onDataChange:j,cliente:a}),ladoDerecho:r.a.createElement(ut,{errors:s,control:l,register:i,onDataChange:j,cliente:a}),fin:r.a.createElement(Ma,{onConfirmar:u((function(){v(!0),console.log(d),w.a.put("https://psa-soporte.herokuapp.com/clientes/"+y,d).then((function(e){console.log(e),t(e.data),O.push("/soporte/clientes/".concat(e.data.id))})).catch((function(e){console.log(e.response)}))})),esperando:b,textoConfirmar:"Modificar"})})},vt=function(){var e=Object(o.useParams)().id,a=(Object(o.useRouteMatch)()||{}).path,t=Object(n.useState)(),c=Object(f.a)(t,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){e&&w.a.get("https://psa-soporte.herokuapp.com/clientes/"+e).then((function(e){i(e.data)}))}),[e]),r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:a},r.a.createElement(ht,{cliente:l})),r.a.createElement(x,{exact:!0,path:"".concat(a,"/modificacion")},r.a.createElement(bt,{cliente:l,onClienteChange:function(e){return i(e)}})))},jt=function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:e},r.a.createElement(at,null)),r.a.createElement(x,{path:"".concat(e,"/creacion")},r.a.createElement(mt,null)),r.a.createElement(x,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(vt,null)))},Ot=t(39),yt=t(24),Ct=t(70),kt=t.n(Ct),xt=(t(171),t(27)),Nt=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],o=a[1],c=Object(xt.a)();return Object(n.useEffect)((function(){var e;return w.a.get("https://psa-soporte.herokuapp.com/reportes/ticketsAcumuladosPorDia").then((function(a){o(a.data.map((function(e){var a=e.dia;return{cantidad:e.cantidad,dia:kt()(a,"YYYY-MM-DD")}}))),e=setTimeout((function(){return o((function(e){return Object(qa.a)(e)}))}),500)})),function(){return clearTimeout(e)}}),[]),r.a.createElement(ke,{mostrar:t,esqueleto:r.a.createElement(xe.a,{variant:"rect",height:400})},t&&r.a.createElement(m.a,null,r.a.createElement(Ot.b,{data:t,style:{display:"flex"}},r.a.createElement(Ot.f,{text:"Tickets acumulados por d\xeda"}),r.a.createElement(Ot.a,{showGrid:!0,tickFormat:function(){return function(e){return kt()(e).format("MMM Do")}}}),r.a.createElement(Ot.h,null),r.a.createElement(yt.m,{modifyDomain:function(e){return[0,e[1]+5]}}),r.a.createElement(Ot.d,{name:"tickets acumulados por d\xeda",argumentField:"dia",valueField:"cantidad",color:c.palette.secondary.main}),r.a.createElement(yt.a,null),r.a.createElement(yt.e,null),r.a.createElement(Ot.g,null))))},wt=Object(l.a)((function(e){return{root:{marginTop:e.spacing(1.5)}}})),Dt=function(e){var a=e.children,t=wt();return r.a.createElement(R.a,{container:!0,justify:"center",className:t.root},n.Children.toArray(a).map((function(e,a){return r.a.createElement(R.a,{item:!0,key:a},e)})))},Mt=t(496),St=t(184),qt=(Ee=St.a,ge={stroke:"white",strokeWidth:"1px"},function(e){var a=e.arg,t=e.val,n=e.color;return r.a.createElement("path",{fill:n,transform:"translate(".concat(a," ").concat(t,")"),d:Object(Mt.a)().size([Math.pow(10,2)]).type(Ee)(),style:ge})}),Tt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.d.Path,e),r.a.createElement(Ot.e.Path,Object.assign({},e,{pointComponent:qt})))},Ft=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],o=a[1],c=Object(xt.a)();return Object(n.useEffect)((function(){var e;return w.a.get("https://psa-soporte.herokuapp.com/reportes/ticketsAbiertosYCerradosPorDia").then((function(a){o(a.data.map((function(e){var a=e.dia,t=Object(O.a)(e,["dia"]);return Object(z.a)({dia:kt()(a,"YYYY-MM-DD")},t)}))),e=setTimeout((function(){return o((function(e){return Object(qa.a)(e)}))}),500)})),function(){return clearTimeout(e)}}),[]),r.a.createElement(ke,{mostrar:t,esqueleto:r.a.createElement(xe.a,{variant:"rect",height:400})},t&&r.a.createElement(m.a,null,r.a.createElement(Ot.b,{data:t,height:400,style:{display:"flex"}},r.a.createElement(Ot.f,{text:"Tickets abiertos y cerrados por d\xeda"}),r.a.createElement(Ot.a,{showGrid:!0,tickFormat:function(){return function(e){return kt()(e).format("MMM Do")}}}),r.a.createElement(Ot.h,{tickFormat:function(){return function(e){return e%1===0?e.toString():""}}}),r.a.createElement(yt.m,{modifyDomain:function(e){return[0,e[1]+1]}}),r.a.createElement(Ot.d,{name:"Tickets abiertos",argumentField:"dia",valueField:"cantidadAbiertos",color:c.palette.secondary.main,seriesComponent:Tt}),r.a.createElement(Ot.d,{name:"Tickets cerrados",argumentField:"dia",valueField:"cantidadCerrados",color:c.palette.primary.main,seriesComponent:Tt}),r.a.createElement(Ot.c,{position:"bottom",rootComponent:Dt}),r.a.createElement(yt.a,null),r.a.createElement(yt.e,null),r.a.createElement(Ot.g,null))))},Pt=t(491),It=Object(l.a)((function(e){return{paper:Object(c.a)({padding:e.spacing(5)},e.breakpoints.only("xs"),{padding:e.spacing(2)}),linkTicket:{marginBottom:e.spacing(2)},linkCliente:{marginTop:e.spacing(4)},ticketsAcumulados:{marginTop:e.spacing(4)}}})),zt=function(){var e=It(),a=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(m.a,{className:e.paper},r.a.createElement("div",{className:e.linkTicket},r.a.createElement(Pt.a,{variant:"h4",color:"secondary",component:Qa.a,to:"".concat(a,"/tickets")},"Tickets")),r.a.createElement(Ft,null),r.a.createElement("div",{className:e.ticketsAcumulados},r.a.createElement(Nt,null)),r.a.createElement("div",{className:e.linkCliente},r.a.createElement(Pt.a,{variant:"h4",color:"secondary",component:Qa.a,to:"".concat(a,"/clientes")},"Clientes")))},Rt=Object(l.a)({root:{position:"relative"},nuevoEmpleado:{display:"flex",justifyContent:"flex-end",marginTop:"50px"}}),Bt=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Rt({empleados:t}),i=(Object(o.useRouteMatch)()||{}).url;return Object(n.useEffect)((function(){w.a.get("https://recursos-psa.herokuapp.com/employees").then((function(e){console.log(e),c(e.data)})).catch((function(e){}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:l.nuevoEmpleado},r.a.createElement(T.a,{style:{marginBottom:"20px",marginRight:"80%"},color:"secondary",variant:"contained",disabled:!0},"Buscar:"),r.a.createElement(T.a,{style:{marginBottom:"20px"},color:"secondary",variant:"contained",to:"".concat(i,"/creacion"),component:Qa.a},"Nuevo recurso")),r.a.createElement(Aa.a,{component:m.a},r.a.createElement(Ya.a,{className:l.table},r.a.createElement(La.a,null,r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,"DNI"),r.a.createElement(Ha.a,null,"Nombre y apellido"),r.a.createElement(Ha.a,null,"Contrato"),r.a.createElement(Ha.a,null,"Puesto"),r.a.createElement(Ha.a,null))),r.a.createElement(Va.a,null,t&&t.map((function(e){return r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,e.dni),r.a.createElement(Ha.a,null,e.name+" "+e.surname),r.a.createElement(Ha.a,null,"F"===e.contract?"Full time":"Part time"),r.a.createElement(Ha.a,null,e.pos),r.a.createElement(Ha.a,null,r.a.createElement(T.a,{color:"primary",variant:"contained",to:"".concat(i,"/").concat(e.dni),component:Qa.a},"+ Info")))}))))))},Yt=t(83),Vt=t.n(Yt),Ht=(t(172),Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),campo:{width:"100%",marginBottom:e.spacing(2.5)}}}))),At=function(e){var a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),parseInt(n+a+t,10)},Lt=function(e){var a=e.toString();return new Date(a.slice(0,4)+"/"+a.slice(4,6)+"/"+a.slice(6,8))},Wt=function(){var e,a=Ht(),t=Object(o.useParams)().id,c=(Object(o.useRouteMatch)()||{}).path,l=Object(n.useState)(),i=Object(f.a)(l,2),s=i[0],u=i[1],p=Object(n.useState)(),d=Object(f.a)(p,2),E=d[0],g=d[1],h=Object(n.useState)(),b=Object(f.a)(h,2),v=b[0],O=b[1],y=Object(o.useHistory)(),C=Object(n.useState)(),k=Object(f.a)(C,2),N=k[0],D=k[1];return Object(n.useEffect)((function(){t&&w.a.get("https://recursos-psa.herokuapp.com/employees/"+t).then((function(e){u(e.data),O(Lt(e.data.date_birth)),g(Lt(e.data.date_hire)),D(e.data.dni)}))}),[t]),r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:c},r.a.createElement(m.a,{className:a.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},s&&r.a.createElement(M.a,{variant:"h4"},s.name+" "+s.surname)),r.a.createElement(R.a,{item:!0,container:!0,spacing:6,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},s&&r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{className:a.campo,defaultValue:s.dni,label:"DNI",onChange:function(e){return s.dni=e.target.value}}),r.a.createElement(A.a,{className:a.campo,defaultValue:s.name,label:"Nombre",onChange:function(e){return s.name=e.target.value}}),r.a.createElement(A.a,{className:a.campo,defaultValue:s.surname,label:"Apellido",onChange:function(e){return s.surname=e.target.value}}),r.a.createElement(Vt.a,{selected:v,onChange:function(e){s.date_birth=At(e),O(e)},customInput:r.a.createElement(A.a,{className:a.campo,label:"Fecha de nacimiento",onChange:function(e){return s.date_birth=e.target.value}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:a.campo,defaultValue:s.organization_id,label:"Legajo",onChange:function(e){return s.organization_id=e.target.value}}),r.a.createElement(Vt.a,{selected:E,onChange:function(e){s.date_hire=At(e),g(e)},customInput:r.a.createElement(A.a,{className:a.campo,value:(e=s.date_hire.toString(),e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)),label:"Fecha de contrataci\xf3n",onChange:function(e){console.log("Holaa"),s.date_hire=At(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:a.campo,defaultValue:s.pos,label:"Puesto",onChange:function(e){return s.pos=e.target.value}}),r.a.createElement(ee.a,{className:a.formControl,style:{width:"40%"}},r.a.createElement(K.a,{id:"demo-controlled-open-select-label"},"Contrato"),r.a.createElement(ae.a,{defaultValue:s.contract,labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){s.contract=e.target.value}},r.a.createElement(Z.a,{value:"F"},"Full time"),r.a.createElement(Z.a,{value:"P"},"Part time")))),r.a.createElement("div",{className:a.nuevoEmpleado},r.a.createElement(T.a,{style:{marginTop:"40px"},onClick:function(){s.dni&&s.name&&s.surname&&s.organization_id&&s.date_birth&&s.date_hire&&s.pos&&s.contract?(s.active=!0,w.a.put("https://recursos-psa.herokuapp.com/employees/"+N,s).then((function(e){y.push("/recursos"),console.log(e)})).catch((function(e){console.log(e.response)}))):console.log("No hay info")},color:"secondary",variant:"outlined"},"Modificar recurso"),r.a.createElement(T.a,{style:{marginTop:"40px",marginLeft:"40px",color:"red"},onClick:function(){y.push("/recursos/"+s.dni)},color:"error",variant:"outlined"},"Cancelar"))),r.a.createElement(R.a,{item:!0,xs:12,md:6})),r.a.createElement(R.a,{item:!0,xs:12})))))},_t=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),campo:{width:"100%",marginBottom:e.spacing(2.5)},nuevoEmpleado:{}}})),Gt=function(e){var a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),parseInt(n+a+t,10)},Ut=function(){var e=_t(),a=(Object(o.useRouteMatch)()||{}).path,t=Object(o.useParams)().id,c=Object(n.useState)(),l=Object(f.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(),p=Object(f.a)(u,2),d=p[0],E=p[1],g=Object(n.useState)(),h=Object(f.a)(g,2),b=h[0],v=h[1],O=Object(n.useState)(),y=Object(f.a)(O,2),C=y[0],k=y[1],N=Object(n.useState)(),D=Object(f.a)(N,2),S=D[0],q=D[1],F=Object(n.useState)(),P=Object(f.a)(F,2),I=P[0],z=P[1],B=Object(n.useState)(),Y=Object(f.a)(B,2),V=Y[0],H=Y[1],L=Object(n.useState)(),W=Object(f.a)(L,2),_=W[0],G=W[1],U=Object(o.useHistory)();Object(n.useEffect)((function(){s(t),t&&w.a.get("https://psa-proyectos.herokuapp.com/proyectos").then((function(e){z(e.data),console.log(e.data)}))}),[t]);return r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:a},r.a.createElement(m.a,{className:e.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h4"},"Cargar hora")),r.a.createElement(R.a,{item:!0,container:!0,spacing:6,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(n.Fragment,null,r.a.createElement(ee.a,{className:e.formControl,style:{width:"100%"}},r.a.createElement(K.a,{id:"demo-controlled-open-select-label"},"Categor\xeda"),r.a.createElement(ae.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){k(e.target.value)}},r.a.createElement(Z.a,{value:"proyecto"},"Proyectos"),r.a.createElement(Z.a,{onClick:function(){H(null),v(null)},value:"soporte"},"Soporte"),r.a.createElement(Z.a,{onClick:function(){H(null),v(null)},value:"estudio"},"Estudio"),r.a.createElement(Z.a,{onClick:function(){H(null),v(null)},value:"fuera de oficina"},"Trabajo fuera de oficina"))),"proyecto"===C&&r.a.createElement(ee.a,{className:e.formControl,style:{width:"100%"}},r.a.createElement(K.a,{id:"demo-controlled-open-select-label"},"Proyecto"),r.a.createElement(ae.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",defaultValue:V,value:V,onChange:function(e){H(e.target.value),console.log(e.target.value),w.a.get("https://psa-proyectos.herokuapp.com/proyectos/"+e.target.value+"/tareas").then((function(e){G(e.data)}))}},I&&I.map((function(e){return r.a.createElement(Z.a,{onClick:function(){v(null),console.log(b)},value:e.id},e.nombre)})))),"proyecto"===C&&V&&r.a.createElement(ee.a,{className:e.formControl,style:{width:"100%"}},r.a.createElement(K.a,{id:"demo-controlled-open-select-label"},"Tarea"),r.a.createElement(ae.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){v(e.target.value)},defaultValue:b,value:b},_&&_.map((function(e){return r.a.createElement(Z.a,{value:e.id},e.nombre)})))),r.a.createElement(A.a,{type:"number",className:e.campo,label:"Horas",onChange:function(e){return E(e.target.value)}}),r.a.createElement(Vt.a,{selected:S,onChange:function(e){return q(e)},customInput:r.a.createElement(A.a,{className:e.campo,label:"Fecha de hora",onChange:function(e){return q(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"})),r.a.createElement("div",{className:e.nuevoEmpleado},r.a.createElement(T.a,{style:{marginTop:"40px"},onClick:function(){!function(){if(S){var e={employeeDni:parseInt(i,10),hours:parseInt(d,10),taskId:parseInt(b,10),category:C,date:Gt(S)};"proyecto"!==e.category||e.taskId?e.employeeDni&&e.hours&&e.category&&e.date?(e.taskId||(e.taskId=1),console.log(e),w.a.post("https://recursos-psa.herokuapp.com/hours",e).then((function(e){U.push("/recursos/"+t),console.log(e)})).catch((function(e){console.log(e.response)}))):console.log("No hay info"):console.log("No hay una tarea asignada")}else console.log("Ingrese una fecha")}()},color:"secondary",variant:"outlined"},"Cargar hora"),r.a.createElement(T.a,{style:{marginTop:"40px",marginLeft:"40px",color:"red"},onClick:function(){U.push("/recursos/"+t)},color:"error",variant:"outlined"},"Cancelar"))))))))},Qt=t(492),Jt=t(506),Xt=t(245),$t=t.n(Xt),Kt=Object(l.a)({root:{position:"relative"},nuevaHora:{display:"flex",justifyContent:"flex-end",marginTop:"50px"}}),Zt=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(o.useParams)().id,i=Kt({horas:t});return Object(n.useEffect)((function(){l&&w.a.get("https://recursos-psa.herokuapp.com/hours/"+l).then((function(e){console.log(e),c(e.data)})).catch((function(e){}))}),[l]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:i.nuevaHora},r.a.createElement(T.a,{style:{marginBottom:"20px",marginRight:"70%"},color:"secondary",variant:"contained",disabled:!0},"Categor\xeda",r.a.createElement($t.a,null)),r.a.createElement(Jt.a,{style:{marginBottom:"20px"},variant:"contained",disabled:!0},r.a.createElement(Qt.a,null,"D\xeda"),r.a.createElement(Qt.a,null,"Semana"),r.a.createElement(Qt.a,null,"Mes"),r.a.createElement(Qt.a,null,"A\xf1o"))),r.a.createElement(Aa.a,{component:m.a},r.a.createElement(Ya.a,{className:i.table},r.a.createElement(La.a,null,r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,"Fecha"),r.a.createElement(Ha.a,null,"Categor\xeda"),r.a.createElement(Ha.a,null,"ID de tarea"),r.a.createElement(Ha.a,null,"Horas"))),r.a.createElement(Va.a,null,t&&t.map((function(e){return r.a.createElement(Wa.a,null,r.a.createElement(Ha.a,null,(a=e.date.toString()).slice(6,8)+"/"+a.slice(4,6)+"/"+a.slice(0,4)),r.a.createElement(Ha.a,null,e.category[0].toUpperCase()+e.category.slice(1)),r.a.createElement(Ha.a,null,"proyecto"===e.category?e.taskId:"---"),r.a.createElement(Ha.a,null,e.hours));var a}))))))},en=t(405),an=t(246),tn=t.n(an);function nn(){return Math.round(20*Math.random())-10}function rn(){var e=50+nn(),a=50+nn();return{top:"".concat(e,"%"),left:"".concat(a,"%"),transform:"translate(-".concat(e,"%, -").concat(a,"%)")}}var on=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),cn=function(e){return e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)},ln=function(){var e=on(),a=Object(o.useParams)().id,t=(Object(o.useRouteMatch)()||{}).path,c=(Object(o.useRouteMatch)()||{}).url,l=Object(n.useState)(),i=Object(f.a)(l,2),s=i[0],u=i[1],p=Object(n.useContext)(ia.a),d=p.setMostrar,E=p.setMensaje,g=r.a.useState(rn),h=Object(f.a)(g,1)[0],b=r.a.useState(!1),v=Object(f.a)(b,2),O=v[0],y=v[1],C=Object(o.useHistory)(),k=function(){y(!1)},N=r.a.createElement("div",{style:h,className:e.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Usted est\xe1 por eliminar un empleado."),r.a.createElement("h3",{id:"simple-modal-description"},"\xbfDesea eliminarlo?"),r.a.createElement(en.a,null),r.a.createElement(T.a,{style:{marginLeft:"20px",color:"red"},onClick:function(){D()},color:"error",variant:"outlined"},"Eliminar"),r.a.createElement(T.a,{style:{marginLeft:"80px"},onClick:k,color:"secondary",variant:"outlined"},"Cancelar")),D=function(){w.a.delete("https://recursos-psa.herokuapp.com/employees/"+s.dni).then((function(e){C.push("/recursos"),E("Empleado eliminado"),d(!0)})).catch((function(e){console.log(e.response)}))};return Object(n.useEffect)((function(){a&&w.a.get("https://recursos-psa.herokuapp.com/employees/"+a).then((function(e){u(e.data)}))}),[a]),r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:t},r.a.createElement(m.a,{className:e.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},s&&r.a.createElement(M.a,{variant:"h4"},s.name+" "+s.surname)),r.a.createElement(R.a,{item:!0,container:!0,spacing:6,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},s&&r.a.createElement(n.Fragment,null,r.a.createElement(M.a,null,"DNI: ",s.dni),r.a.createElement(M.a,null,"Fecha de nacimiento: ",cn(s.date_birth.toString())),r.a.createElement(M.a,null,"Legajo: ",s.organization_id),r.a.createElement(M.a,null,"Fecha de contrataci\xf3n: ",cn(s.date_hire.toString())),r.a.createElement(M.a,null,"Antig\xfcedad : ",Math.floor((12*((new Date).getFullYear()-Math.floor(s.date_hire/1e4))+((new Date).getMonth()+1-Math.floor(s.date_hire%1e4/100)))/12)," a\xf1os ",Math.floor((12*((new Date).getFullYear()-Math.floor(s.date_hire/1e4))+((new Date).getMonth()+1-Math.floor(s.date_hire%1e4/100)))%12)," meses"),r.a.createElement(M.a,null,"Contrato: ","F"===s.contract?"Full time":"Part time"),r.a.createElement(M.a,null,"Puesto: ",s.pos))),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(tn.a,{style:{fontSize:150,marginLeft:"40%"}}))),r.a.createElement(R.a,{item:!0,xs:12})),r.a.createElement("div",{className:e.nuevoEmpleado},r.a.createElement(T.a,{color:"secondary",variant:"outlined",to:"".concat(c,"/modificacion"),component:Qa.a},"Modificar"),r.a.createElement(T.a,{type:"button",style:{marginLeft:"40px",color:"red"},onClick:function(){y(!0)},color:"error",variant:"outlined"},"Eliminar"),r.a.createElement(en.a,{open:O,onClose:k,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},N),r.a.createElement(T.a,{style:{marginLeft:"35%"},color:"secondary",variant:"outlined",to:"".concat(c,"/horascargadas"),component:Qa.a},"Ver horas cargadas"),r.a.createElement(T.a,{style:{marginLeft:"40px"},color:"secondary",variant:"outlined",to:"".concat(c,"/cargarhora"),component:Qa.a},"Cargar horas")))),r.a.createElement(x,{exact:!0,path:"".concat(t,"/cargarhora")},r.a.createElement(Ut,null)),r.a.createElement(x,{exact:!0,path:"".concat(t,"/modificacion")},r.a.createElement(Wt,null)),r.a.createElement(x,{exact:!0,path:"".concat(t,"/horascargadas")},r.a.createElement(Zt,null)))},sn=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),campo:{width:"100%",marginBottom:e.spacing(2.5)},nuevoEmpleado:{}}})),un=function(e){var a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),parseInt(n+a+t,10)},mn=function(){var e=sn(),a=(Object(o.useRouteMatch)()||{}).path,t=Object(n.useState)(),c=Object(f.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(),u=Object(f.a)(s,2),p=u[0],d=u[1],E=Object(n.useState)(),g=Object(f.a)(E,2),h=g[0],b=g[1],v=Object(n.useState)(),O=Object(f.a)(v,2),y=O[0],C=O[1],k=Object(n.useState)(),N=Object(f.a)(k,2),D=N[0],S=N[1],q=Object(n.useState)(),F=Object(f.a)(q,2),P=F[0],I=F[1],z=Object(n.useState)(),B=Object(f.a)(z,2),Y=B[0],V=B[1],H=Object(n.useState)(),L=Object(f.a)(H,2),W=L[0],_=L[1],G=Object(o.useHistory)();return r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:a},r.a.createElement(m.a,{className:e.root},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(M.a,{variant:"h4"},"Nuevo Empleado")),r.a.createElement(R.a,{item:!0,container:!0,spacing:6,xs:12},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{className:e.campo,label:"DNI",onChange:function(e){return i(e.target.value)}}),r.a.createElement(A.a,{className:e.campo,label:"Nombre",onChange:function(e){return d(e.target.value)}}),r.a.createElement(A.a,{className:e.campo,label:"Apellido",onChange:function(e){return b(e.target.value)}}),r.a.createElement(Vt.a,{selected:D,onChange:function(e){return S(e)},customInput:r.a.createElement(A.a,{className:e.campo,label:"Fecha de nacimiento",onChange:function(e){return S(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:e.campo,label:"Legajo",onChange:function(e){return C(e.target.value)}}),r.a.createElement(Vt.a,{selected:P,onChange:function(e){return I(e)},customInput:r.a.createElement(A.a,{className:e.campo,label:"Fecha de contrataci\xf3n",onChange:function(e){return I(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:e.campo,label:"Puesto",onChange:function(e){return _(e.target.value)}}),r.a.createElement(ee.a,{className:e.formControl,style:{width:"40%"}},r.a.createElement(K.a,{id:"demo-controlled-open-select-label"},"Contrato"),r.a.createElement(ae.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){V(e.target.value)}},r.a.createElement(Z.a,{value:"F"},"Full time"),r.a.createElement(Z.a,{value:"P"},"Part time")))),r.a.createElement("div",{className:e.nuevoEmpleado},r.a.createElement(T.a,{style:{marginTop:"40px"},onClick:function(){!function(){if(D&&P){var e={dni:parseInt(l,10),name:p,surname:h,organization_id:parseInt(y,10),date_birth:un(D),date_hire:un(P),pos:W,contract:Y};e.dni&&e.name&&e.surname&&e.organization_id&&e.date_birth&&e.date_hire&&e.pos&&e.contract?(e.active=!0,w.a.post("https://recursos-psa.herokuapp.com/employees",e).then((function(e){G.push("/recursos"),console.log(e)})).catch((function(e){console.log(e.response)}))):console.log("No hay info")}else console.log("Ingrese la fecha")}()},color:"secondary",variant:"outlined"},"Crear Recurso"),r.a.createElement(T.a,{style:{marginTop:"40px",marginLeft:"40px",color:"red"},onClick:function(){G.push("/recursos/")},variant:"outlined",color:"error"},"Cancelar"))))))))},pn=[{label:"Proyectos",route:"/proyectos",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path,a=Object(o.useHistory)();return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:e},r.a.createElement(n.Fragment,null,r.a.createElement(I,null),r.a.createElement(D,{mapf:function(e){return r.a.createElement(q,{proyecto:e,key:e.id})},url:"/proyectos"}))),r.a.createElement(x,{path:"".concat(e,"/crear")},r.a.createElement(be,{titulo:"Crear Proyecto",onConfirm:function(e){w.a.post("https://psa-proyectos.herokuapp.com/proyectos",e).then((function(e){a.push("/proyectos/".concat(e.data.id)),console.log(e)})).catch((function(e){console.log(e.response)}))}})),r.a.createElement(x,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(Ve,null))))}},{label:"Soporte",route:"/soporte",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:e},r.a.createElement(zt,null)),r.a.createElement(x,{path:"".concat(e,"/tickets")},r.a.createElement(Ka,null)),r.a.createElement(x,{path:"".concat(e,"/clientes")},r.a.createElement(jt,null))))}},{label:"Recursos",route:"/recursos",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:e},r.a.createElement(Bt,null)),r.a.createElement(x,{path:"".concat(e,"/creacion")},r.a.createElement(mn,null)),r.a.createElement(x,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(ln,null))))}}];a.b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Route,{exact:!0,strict:!0,path:"(.*//+.*)",render:function(e){var a=e.location;return r.a.createElement(o.Redirect,{to:a.pathname.replace(/\/\/+/g,"/")})}}),r.a.createElement(j,null,r.a.createElement(x,{exact:!0,path:"/"},r.a.createElement(d,null)),pn.map((function(e,a){e.label;var t=e.route,n=e.Component;return r.a.createElement(x,{path:t,key:a},r.a.createElement(n,null))}))))}}},[[275,1,2]]]);
//# sourceMappingURL=main.76de6189.chunk.js.map