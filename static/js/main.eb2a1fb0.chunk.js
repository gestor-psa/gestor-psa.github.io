(this["webpackJsonpgestor-psa"]=this["webpackJsonpgestor-psa"]||[]).push([[0],{107:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=r.a.createContext({setMostrar:function(){return null},setMensaje:function(){return null}})},157:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(535),c=a(8),l=a(41),i=a(534),s=a(91);t.a=function(e){var t=e.tabsProps,a=e.tabProps,n=Object(c.useLocation)().pathname.split("/")[1],u=s.a.find((function(e){return e.route==="/".concat(n)}))||!1;return r.a.createElement(o.a,Object.assign({value:u&&u.route},t),s.a.map((function(e,t){var n=e.label,o=e.route;return r.a.createElement(i.a,Object.assign({key:t,to:o,label:n,value:o,component:l.a},a))})))}},271:function(e,t,a){e.exports=a.p+"static/media/logo.f3ef6d24.png"},273:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),o=a(536),c=a(175),l=a(274),i=Object(c.a)((function(e){return{drawerPaper:{background:e.palette.primary.main,minWidth:200,paddingTop:e.spacing(4)}}}));t.a=function(t){var a=t.open,n=t.onClose,c=t.onOpen,s=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),u=i();return r.a.createElement(o.a,{disableBackdropTransition:!s,disableDiscovery:s,anchor:"right",open:a,onClose:n,onOpen:c,classes:{paper:u.drawerPaper}},r.a.createElement(l.a,{onTabClick:n}))}}).call(this,a(139))},274:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(175),c=a(157),l=Object(o.a)((function(e){return{tabItem:{textTransform:"none",fontSize:20,fontWeight:600,color:"white",maxWidth:"none"},indicator:{left:0},tabWrapper:{alignItems:"baseline"}}}));t.a=function(e){var t=e.onTabClick,a=l();return r.a.createElement(c.a,{tabsProps:{orientation:"vertical",classes:{indicator:a.indicator}},tabProps:{className:a.tabItem,classes:{wrapper:a.tabWrapper},onClick:t}})}},318:function(e,t,a){e.exports=a(519)},518:function(e,t){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},519:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a(292),l=a(582),i=a(580),s=a(112),u=a.n(s),m=(a(328),function(e){var t=e.children,a=Object(c.a)({palette:{primary:{main:"#47CC31",lighter:function(e){return u()("#47CC31").lighten(e/100).hex()}},secondary:{main:"#B531CC",lighter:function(e){return u()("#B531CC").lighten(e/100).hex()}}}});return r.a.createElement(n.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(l.a,{theme:a},t))}),p=a(8);function d(){var e=Object(p.useLocation)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var g=a(175),f=Object(g.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"calc(100vh)",backgroundColor:e.palette.background.default,userSelect:"none",transition:"background .5s ease"}}})),h=function(e){var t=e.children,a=f();return r.a.createElement("div",{className:a.root},t)},E=a(7),b=a(584),v=a(621),j=a(587),O=a(288),y=a.n(O),D=a(585),C=a(271),k=a.n(C),w=a(41),x=a(272),S=a.n(x)()((function(e){return{link:{textAlign:"center",textDecoration:"none",outline:0},logo:{width:"auto",height:function(e){return e.height},margin:function(t){return t.showName?0:e.spacing(1.5)}}}})),N=function(e){var t=e.height,a=S({height:t});return r.a.createElement(w.a,{to:"/",className:a.link},r.a.createElement("div",{className:a.logoWrapper},r.a.createElement("img",{src:k.a,className:a.logo,alt:"logo"})))},M=a(273),F=a(157),q=Object(g.a)((function(e){return{tabItem:{textTransform:"none",fontSize:20,fontWeight:600,color:"white"},desktopTabs:{alignItems:"flex-end",position:"absolute",left:"51%",transform:"translateX(-50%)",height:"100%"}}})),T=function(){var e=q();return r.a.createElement(F.a,{tabsProps:{className:e.desktopTabs},tabProps:{className:e.tabItem}})},I=a(629),P=a(91),z=a(293),Y=Object(b.a)((function(e){return{title:{color:e.palette.secondary.contrastText,fontWeight:500,fontSize:28}}})),R=function(){var e=Y(),t=Object(p.useLocation)(),a=P.a.find((function(e){return t.pathname===e.route||t.pathname.startsWith(e.route+"/")}));return r.a.createElement(I.a,{mdUp:!0},r.a.createElement(z.a,{variant:"h5",className:e.title},"/"===t.pathname?"Home":a&&a.label||"404"))},B=a(526),H=a(289),A=a.n(H),V=Object(b.a)((function(e){return{appBar:{zIndex:100},separator:{flexGrow:1},menuButton:{color:e.palette.grey[50]},container:{display:"flex",position:"relative"},logo:{width:50,margin:e.spacing(2,0)},title:{display:"flex",alignItems:"center",position:"absolute",left:"51%",transform:"translateX(-50%)",height:"100%"}}})),W=function(){var e=V(),t=Object(p.useHistory)(),a=r.a.useState(!1),o=Object(E.a)(a,2),c=o[0],l=o[1],i=function(){return l(!0)};return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{position:"static",className:e.appBar},r.a.createElement(D.a,{fixed:!0,className:e.container},r.a.createElement(N,{height:50}),r.a.createElement("div",{className:e.separator}),r.a.createElement(I.a,{smDown:!0},r.a.createElement(T,null)),r.a.createElement(I.a,{mdUp:!0},r.a.createElement("div",{className:e.title},r.a.createElement(R,null)),r.a.createElement(j.a,{className:e.menuButton,onClick:i},r.a.createElement(y.a,{fontSize:"large"}))),r.a.createElement("div",null),r.a.createElement(B.a,{onClick:function(){t.push("/recursos/45487954")}},r.a.createElement(A.a,{style:{fontSize:40,color:"white"}})))),r.a.createElement(M.a,{open:c,onOpen:i,onClose:function(){return l(!1)}}))},L=a(20),_=a(586),G=a(211),J=a(213),U=a(214),Q=Object(g.a)((function(e){return{socialItem:{display:"flex",alignItems:"baseline",justifyContent:"center"},iconWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"100%",border:"2px solid ".concat(e.palette.primary.lighter(90)),color:e.palette.primary.lighter(90),transition:"background .2s ease-in-out, color .2s ease-in-out","&:hover":{color:e.palette.primary.main,background:e.palette.primary.lighter(80),border:"2px solid ".concat(e.palette.primary.lighter(80))}}}})),X=[{link:"//github.com/gestor-psa/",icon:J.a},{link:"//www.linkedin.com/",icon:J.b},{link:"",icon:U.a}],$=function(){var e=Q();return r.a.createElement(_.a,{container:!0,spacing:2},X.map((function(t){var a=t.link,n=t.icon;return r.a.createElement(_.a,{item:!0,xs:3,md:2,className:e.socialItem,key:a},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:e.iconWrapper},r.a.createElement(G.a,{icon:n,size:"2x"})))})),r.a.createElement(_.a,{item:!0,xs:3,md:2,className:e.socialItem},r.a.createElement("a",{href:"/",className:e.iconWrapper},r.a.createElement(G.a,{icon:U.b,size:"2x"}))))},K=Object(g.a)((function(e){return{root:Object(L.a)({display:"flex",justifyContent:"center",color:e.palette.primary.lighter(70),marginTop:e.spacing(2)},e.breakpoints.down("sm"),{marginTop:e.spacing(4)}),item:Object(L.a)({},e.breakpoints.only("xs"),{display:"flex",width:"100%"}),itemContent:Object(L.a)({},e.breakpoints.only("xs"),{margin:"auto"}),text:{display:"inline"},copyright:Object(L.a)({},e.breakpoints.only("sm"),{display:"flex",width:"100%",justifyContent:"center"})}})),Z=function(){var e=K();return r.a.createElement(_.a,{container:!0,spacing:1,className:e.root},r.a.createElement(_.a,{item:!0,className:"".concat(e.item," ").concat(e.copyright)},r.a.createElement("div",{className:e.itemContent},r.a.createElement(z.a,{variant:"h6",className:e.text},"Copyright \xa9 ",(new Date).getFullYear()))))},ee=Object(g.a)((function(e){return{appBar:Object(L.a)({marginTop:"auto",zIndex:0,paddingTop:e.spacing(4)},e.breakpoints.down("xs"),{paddingTop:e.spacing(3)}),container:{padding:e.spacing(2,2)},gridContainer:{padding:e.spacing(.5)}}})),te=function(){var e=ee();return r.a.createElement(v.a,{position:"static",className:e.appBar,component:"footer"},r.a.createElement(D.a,{fixed:!0,className:e.container},r.a.createElement(_.a,{container:!0,spacing:2,className:e.gridContainer},r.a.createElement(_.a,{item:!0,xs:12,sm:3},r.a.createElement(N,{height:130})),r.a.createElement(_.a,{item:!0,xs:12,sm:9},r.a.createElement($,null)),r.a.createElement(_.a,{item:!0,xs:12},r.a.createElement(Z,null)))))},ae=a(290),ne=function(e){var t=Object(ae.a)(e),a=t.push;return Object(n.useEffect)((function(){t.push=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.location;e===r.pathname+r.search+r.hash&&JSON.stringify(n)===JSON.stringify(r.state||{})||a(e,n)}}),[a,t]),r.a.createElement(p.Router,{history:t,children:e.children})},re=(a(518),a(628)),oe=a(626),ce=a(13),le=a.n(ce),ie=Object(b.a)((function(e){return{snackbar:{bottom:30}}})),se=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(E.a)(c,2),i=l[0],s=l[1],u=ie();return Object(n.useEffect)((function(){le.a.interceptors.response.use((function(e){return e}),(function(e){return 500<=e.response.status&&e.response.status<=599?(s("Ha ocurrido un error inesperado, por favor intente nuevamente en unos minutos."),o(!0),new Promise((function(){}))):404===e.response.status?(s("No se ha encontrado el recurso que est\xe1 buscando, por favor vuelva al inicio."),o(!0),new Promise((function(){}))):Promise.reject(e)}))}),[]),r.a.createElement(re.a,{open:a,className:u.snackbar,onClose:function(){return o(!1)}},r.a.createElement(oe.a,{onClose:function(){return o(!1)},severity:"error",variant:"filled"},i))},ue=a(107),me=Object(b.a)((function(e){return{alert:{marginTop:e.spacing(10),border:"solid",borderWidth:1,borderColor:e.palette.primary.dark,borderRadius:5}}})),pe=function(e){var t=e.children,a=me(),o=Object(n.useState)(!1),c=Object(E.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(E.a)(s,2),m=u[0],p=u[1],d={setMostrar:function(e){return i(e)},setMensaje:function(e){return p(e)}};return r.a.createElement(ue.a.Provider,{value:d},l&&r.a.createElement(re.a,{open:l,className:a.snackbar,onClose:function(){return i(!1)},anchorOrigin:{horizontal:"center",vertical:"top"}},r.a.createElement(oe.a,{severity:"success",className:a.alert,onClose:function(){return i(!1)}},m)),t)},de=a(47),ge=a(291),fe=function(e){var t=e.children;return r.a.createElement(de.a,{utils:ge.a},t)},he=function(){return r.a.createElement(m,null,r.a.createElement(fe,null,r.a.createElement(ne,null,r.a.createElement(h,null,r.a.createElement(se,null),r.a.createElement(d,null),r.a.createElement(pe,null,r.a.createElement(W,null),r.a.createElement(P.b,null),r.a.createElement(te,null))))))};Object(o.render)(r.a.createElement(he,null),document.getElementById("root"))},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return kn}));var n=a(0),r=a.n(n),o=a(8),c=a(20),l=a(584),i=a(585),s=Object(l.a)((function(e){return{wrapper:{margin:e.spacing(2,0)}}})),u=function(e){var t=e.children,a=s();return r.a.createElement(i.a,{fixed:!0},r.a.createElement("div",{className:a.wrapper},t))},m=a(216),p=Object(l.a)((function(e){return{paper:Object(c.a)({padding:e.spacing(5)},e.breakpoints.only("xs"),{padding:e.spacing(2)})}})),d=function(){var e=p();return r.a.createElement(u,null,r.a.createElement(m.a,{className:e.paper},r.a.createElement("p",null,"Home")))},g=a(7),f=a(275),h=function(e){var t=e.title,a=e.description;return r.a.createElement(f.a,{title:"PSA".concat(t?" | "+t:""),meta:[{name:"description",content:a}]})},E=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(h,{title:"404 Not Found",description:"Error, p\xe1gina no encontrada."}),r.a.createElement("div",null,"It looks like you are lost."))},b=a(175),v=Object(b.a)((function(e){return{root:{position:"relative"}}})),j=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(g.a)(a,2),c=o[0],l=o[1],i=function(){return l(!0)},s=v();return r.a.createElement("div",{className:s.root},r.a.Children.toArray(t).map((function(e){return r.a.cloneElement(e,{onMatch:i})})),!c&&r.a.createElement(E,null))},O=a(72),y=a(627),D=Object(b.a)((function(e){return{wrapper:function(e){var t=e.duration;return{display:"block","&.page-enter":{opacity:0,transform:"scale(1.1)"},"&.page-enter-active":{opacity:1,transform:"scale(1)",transition:"opacity ".concat(t,"ms, transform ").concat(t,"ms")},"&.page-exit":{position:"absolute",left:0,top:0,width:"100%",opacity:1,transform:"scale(1)"},"&.page-exit-active":{opacity:0,transform:"scale(0.9)",transition:"opacity ".concat(t,"ms, transform ").concat(t,"ms")}}}}})),C=function(e){var t=e.match,a=e.onMatch,o=e.children,c=D({duration:600});return Object(n.useEffect)((function(){t&&a()}),[t,a]),r.a.createElement(y.a,{in:null!=t,timeout:600,classNames:"page",unmountOnExit:!0},r.a.createElement("div",{className:c.wrapper},o))},k=function(e){var t=e.children,a=e.onMatch,n=Object(O.a)(e,["children","onMatch"]);return r.a.createElement(o.Route,n,(function(e){var n=e.match;return r.a.createElement(C,{match:n,onMatch:a},t)}))},w=a(13),x=a.n(w),S=function(e){var t=e.mapf,a=e.url,o=Object(n.useState)(),c=Object(g.a)(o,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){x.a.get("https://psa-proyectos.herokuapp.com"+a).then((function(e){console.log(e),e.data.sort((function(e,t){return(e.id||e.codigo)<(t.id||t.codigo)&&e||t})),i(e.data)})).catch((function(e){}))}),[a]),r.a.createElement(n.Fragment,null,l&&l.map(t))},N=a(293),M=Object(l.a)((function(e){return{paper:{padding:"15px",marginTop:e.spacing(3),border:"2px solid black"}}})),F=function(e){var t=M(),a=Object(o.useHistory)(),c=e.proyecto.responsableDni,l=Object(n.useState)(),i=Object(g.a)(l,2),s=i[0],u=i[1];return r.a.useEffect((function(){c&&x.a.get("https://recursos-psa.herokuapp.com/employees/"+c).then((function(e){u(e.data)}))}),[c]),r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{elevation:3,className:t.paper,onClick:function(){return t=e.proyecto.id||e.proyecto.codigo,void a.push("".concat(a.location.pathname,"/")+t);var t},square:!1,variant:"outlined"},r.a.createElement(N.a,{gutterBottom:!0,variant:"h2",align:"left"},e.proyecto.nombre),r.a.createElement(N.a,{variant:"body1",align:"left"},"Encargado: ",s&&s.name+" "+s.surname||"Sin Asignar"),r.a.createElement(N.a,{variant:"body1",align:"left"},"Fecha de Inicio: ",e.proyecto.fechaInicio),r.a.createElement(N.a,{variant:"body1",align:"left"},"Estado: ",e.proyecto.estado)))},q=a(526),T=a(278),I=function(e){var t=e.titulo,a=void 0===t?"Nuevo proyecto":t,n=e.url,c=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(q.a,{color:"secondary",variant:"contained",to:"".concat(n||c,"/crear"),component:T.Link},a)},P=a(24),z=a(586),Y=a(527),R=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)})}})),B=function(e){var t=e.titulo,a=e.ladoIzquierdo,n=e.ladoDerecho,o=e.fin,c=R(),l=Object(Y.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(m.a,{className:c.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(N.a,{variant:"h4"},t)),r.a.createElement(z.a,{item:!0,container:!0,spacing:l?6:2,xs:12},r.a.createElement(z.a,{item:!0,xs:12,md:6},a),r.a.createElement(z.a,{item:!0,xs:12,md:6},n)),r.a.createElement(z.a,{item:!0,xs:12},o)))},H=a(46),A=a(631),V=a(625),W=a(593),L=a(159),_=a.n(L),G=a(160),J=a.n(G),U=function(e){var t=e.opciones,a=void 0===t?null:t,n=e.defaultValue,o=e.url,c=void 0===o?"":o,l=e.autocompleteProps,i=void 0===l?{}:l,s=e.textFieldProps,u=void 0===s?{}:s,m=r.a.useState(!1),p=Object(g.a)(m,2),d=p[0],f=p[1],h=r.a.useState(a),E=Object(g.a)(h,2),b=E[0],v=E[1],j=d&&!b;r.a.useEffect((function(){!a&&j&&x.a.get(c).then((function(e){console.log(e.data),v(e.data)}))}),[c,j,a]);var O=i.getOptionLabel||function(e){return e};return r.a.createElement(V.a,Object.assign({},i,{defaultValue:n,key:O(n||{}),open:d,openOnFocus:!0,onOpen:function(){return f(!0)},onClose:function(){return f(!1)},options:b||[],noOptionsText:"No encontrado",loading:j,loadingText:"Cargando...",renderInput:function(e){return r.a.createElement(A.a,Object.assign({},u,e,{InputProps:Object(P.a)(Object(P.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,j?r.a.createElement(W.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,t){var a=t.inputValue,n=J()(O(e),a),o=_()(O(e),n);return r.a.createElement("div",null,o.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})))}}))},Q=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),X=function(e){var t=e.onDataChange,a=e.register,n=e.errors,o=e.proyecto,c=void 0===o?{}:o,l=Q(),i="https://recursos-psa.herokuapp.com/employees",s=r.a.useState({}),u=Object(g.a)(s,2),m=u[0],p=u[1],d=c.responsableDni?(x.a.get(i).then((function(e){var t=e.data.filter((function(e){return e.dni===c.responsableDni}));t.length>0&&p(t[0])})),m):{};return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:l.campo,key:c.nombre,defaultValue:c.nombre,onChange:function(e){return t({nombre:e.target.value})},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:a({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,label:"Descripci\xf3n",className:l.campo,key:c.descripcion,defaultValue:c.descripcion,onChange:function(e){return t({descripcion:e.target.value})},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:a({required:!0}),helperText:n.descripcion&&"La descripcion es requerida"}),r.a.createElement(U,{url:i,defaultValue:d,autocompleteProps:{getOptionLabel:function(e){return e.name+" "+e.surname},onChange:function(e,a){return t({responsableDni:a.dni})}},textFieldProps:{label:"Responsable"}}))},$=a(633),K=a(594),Z=a(590),ee=a(623),te=Object(l.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ae=function(e){var t=e.opciones,a=e.seleccionPorDefecto,o=e.onChange,c=void 0===o?function(){return null}:o,l=Object(n.useState)(a||t[0].valor),i=Object(g.a)(l,2),s=i[0],u=i[1],m=te();return r.a.createElement(Z.a,{className:m.formControl},r.a.createElement($.a,null,"Estado*"),r.a.createElement(ee.a,{color:"secondary",size:"small",value:a||null},t.map((function(e){var t=e.etiqueta,a=e.valor;return r.a.createElement(K.a,{value:a,variant:s===a?"contained":"outlined",onClick:function(){u(a),c({valor:a})}},t)}))))},ne=function(e){var t=e.onDataChange,a=e.proyecto;return r.a.createElement("div",null,r.a.createElement(ae,{opciones:[{etiqueta:"En Progreso",valor:"en progreso"},{etiqueta:"Finalizado",valor:"finalizado"},{etiqueta:"Detenido",valor:"detenido"},{etiqueta:"Cancelado",valor:"cancelado"}],key:a.estado,seleccionPorDefecto:a.estado,onChange:function(e){var a=e.valor;return t({estado:a})}}))},re=a(112),oe=a.n(re),ce=Object(l.a)((function(e){return{root:function(t){var a=t.color,n=t.variant;if("outlined"===n)return{color:e.palette[a].main,borderColor:e.palette[a].main,"&:hover":{backgroundColor:oe()(e.palette[a].main).lighten("warning"===a?.9:.67).hex()}};if("contained"===n){var r=oe()(e.palette[a].main).lighten(.7).hex();return{backgroundColor:e.palette[a].main,color:e.palette[a].contrastText,boxShadow:"0px 3px 1px -2px ".concat(r,", 0px 2px 2px 0px ").concat(r,", 0px 1px 5px 0px ").concat(r),"&:hover":{backgroundColor:e.palette[a].dark}}}return"text"===n?{color:e.palette[a].main}:void 0}}})),le=function(e){var t=e.color,a=void 0===t?"primary":t,n=e.className,o=void 0===n?"":n,c=e.variant,l=void 0===c?"text":c,i=Object(O.a)(e,["color","className","variant"]),s=ce({color:a,variant:l});return r.a.createElement(q.a,Object.assign({variant:l},i,{className:"".concat(s.root," ").concat(o)}))},ie=Object(l.a)((function(e){return{accion:{margin:e.spacing(0,2)},progreso:{marginLeft:e.spacing(1.5)}}})),se=function(e){var t=e.children,a=e.inProgress,n=e.className,o=Object(O.a)(e,["children","inProgress","className"]),c=ie();return r.a.createElement(le,Object.assign({},o,{className:"".concat(c.accion," ").concat(n)}),t,a&&r.a.createElement(W.a,{size:20,color:"inherit",className:c.progreso}))},ue=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},accion:{margin:e.spacing(0,2)},progreso:{marginRight:e.spacing(1.5)}}})),me=function(e){var t=e.onConfirmar,a=e.textoConfirmar,n=e.esperando,c=ue(),l=Object(o.useHistory)();return r.a.createElement("div",{className:c.acciones},r.a.createElement(se,{color:"info",variant:"outlined",onClick:t,inProgress:n},a),r.a.createElement(le,{color:"error",variant:"outlined",onClick:function(){return l.goBack()}},"Cancelar"))},pe=Object(l.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function de(e){var t=e.tag,a=e.name,n=e.defvalue,o=e.onChange,l=pe();return console.log(new Date(n)),r.a.createElement("form",{className:l.container,noValidate:!0},r.a.createElement(A.a,{id:"date",label:a,type:"date",defaultValue:new Date(n),value:n,className:l.textField,onChange:function(e){o(Object(c.a)({},t,e.target.value))},InputLabelProps:{shrink:!0}}))}var ge,fe,he=function(e){var t=e.proyecto,a=void 0===t?{}:t,n=e.onChange,o=void 0===n?function(){return null}:n;return r.a.createElement(z.a,null,r.a.createElement(de,{tag:"fechaInicio",name:"Fecha de Inicio",onChange:o,defvalue:a.fechaInicio}),r.a.createElement(de,{tag:"fechaFin",name:"Fecha de Fin",onChange:o,defvalue:a.fechaFin}))},Ee=a(531),be=Object(l.a)({root:{position:"relative"},esqueleto:{position:function(e){return e.mostrar?"absolute":"initial"},top:0,left:0,width:"100%"}}),ve=function(e){var t=e.children,a=e.esqueleto,n=e.mostrar,o=e.timeout,c=void 0===o?500:o,l=e.className,i=void 0===l?"":l,s=e.clases,u=void 0===s?{esqueleto:""}:s,m=be({mostrar:n});return r.a.createElement("div",{className:"".concat(m.root," ").concat(i)},n&&r.a.createElement(Ee.a,{in:!0,timeout:c},r.a.createElement("div",null,t)),r.a.createElement(Ee.a,{in:!n,timeout:c,unmountOnExit:!0},r.a.createElement("div",{className:"".concat(m.esqueleto," ").concat(u.esqueleto)},a)))},je=a(595),Oe=Object(l.a)((function(e){return{grupo:{margin:e.spacing(1,0),display:"flex"},descriptor:{fontWeight:600},esqueleto:{flexGrow:1}}})),ye=function(e){var t=e.etiqueta,a=e.mostrar,n=e.valor,o=Oe();return r.a.createElement("div",{className:o.grupo},r.a.createElement(N.a,{className:o.descriptor},t,":\xa0"),r.a.createElement(ve,{mostrar:a,className:o.esqueleto,esqueleto:r.a.createElement(N.a,null,r.a.createElement(je.a,null))},r.a.createElement(N.a,null,n)))},De=function(e){var t=e.titulo,a=e.onConfirm,o=void 0===a?function(){return null}:a,c=e.url,l=Object(H.b)(),i=l.register,s=l.errors,u=l.handleSubmit,m=Object(n.useState)({}),p=Object(g.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(d),E=Object(g.a)(h,2),b=E[0],v=E[1],j=Object(n.useState)(!1),O=Object(g.a)(j,2),y=O[0],D=O[1],C=function(e){return v(Object(P.a)(Object(P.a)({},b),e))};console.log(c),Object(n.useEffect)((function(){c&&x.a.get("https://psa-proyectos.herokuapp.com"+c).then((function(e){f(e.data),v(e.data)})).catch((function(e){}))}),[c]);return r.a.createElement(B,{titulo:t,ladoIzquierdo:r.a.createElement(X,{proyecto:d,errors:s,register:i,onDataChange:C}),ladoDerecho:r.a.createElement(z.a,null,r.a.createElement(ne,{proyecto:b,onDataChange:C}),r.a.createElement(he,{proyecto:d,onChange:C}),d.fechaInicio&&d.fechaFin&&r.a.createElement(ye,{etiqueta:"Duracion",mostrar:!0,valor:function(e,t){var a=new Date(e),n=new Date(t),r=Math.abs(n-a);return Math.ceil(r/864e5)}(d.fechaInicio,d.fechaFin)+" dias"})),fin:r.a.createElement(me,{onConfirmar:u((function(){D(!0),console.log(b),o(b)})),esperando:y,textoConfirmar:"Confirmar"})})},Ce=a(281),ke=a.n(Ce),we=function(e){var t=e.fecha,a=e.formato,o=void 0===a?"DD/MM/YYYY HH:mm":a;return r.a.createElement(n.Fragment,null,t?r.a.createElement(ke.a,{date:t,local:!0,format:o}):"")},xe=Object(l.a)((function(e){return{grupo:{margin:e.spacing(1,0),display:"flex"},descriptor:{fontWeight:600},esqueleto:{flexGrow:1},esqueletoDescripcion:{width:"100%"}}})),Se=function(e){var t=e.etiqueta,a=e.mostrar,o=e.valor,c=e.filas,l=xe();return r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(N.a,{className:l.descriptor},t,":\xa0")),r.a.createElement(ve,{mostrar:a,className:l.esqueletoDescripcion,esqueleto:r.a.createElement(n.Fragment,null,Array(c).fill(null).map((function(e,t){return r.a.createElement(z.a,{key:t,item:!0,xs:12},r.a.createElement(N.a,null,r.a.createElement(je.a,null)))})))},r.a.createElement(N.a,{className:l.campo},o)))},Ne=function(e){var t=e.esProyecto,a=e.mostrar,o=e.nombre,c=e.descripcion,l=e.responsableDni,i=e.estado,s=e.fechaInicio,u=e.fechaFin,m=r.a.useState(!1),p=Object(g.a)(m,2),d=p[0],f=p[1];r.a.useEffect((function(){l&&x.a.get("https://recursos-psa.herokuapp.com/employees/"+l).then((function(e){f(e.data)}))}),[l]);var h=s&&u;return r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{variant:"h4"},o&&o.capitalize()),c&&r.a.createElement(Se,{filas:3,etiqueta:"Descripci\xf3n",mostrar:a,valor:c&&c.capitalize()}),t&&r.a.createElement(ye,{etiqueta:"Responsable",mostrar:a,valor:d&&d.name&&d.name+" "+d.surname||"Sin asignar"}),r.a.createElement(ye,{etiqueta:"Estado",mostrar:a,valor:i&&i.capitalize()}),r.a.createElement(ye,{etiqueta:"Fecha de inicio",mostrar:a,valor:r.a.createElement(we,{fecha:s})}),r.a.createElement(ye,{etiqueta:"Fecha de finalizaci\xf3n",mostrar:a,valor:r.a.createElement(we,{fecha:u})}),h&&r.a.createElement(ye,{etiqueta:"Duracion",mostrar:a,valor:function(e,t){var a=new Date(e),n=new Date(t),r=Math.abs(n-a);return Math.ceil(r/864e5)}(s,u)+" dias"}))},Me=a(626),Fe=a(596),qe=a(532),Te=Object(l.a)((function(e){return{tooltip:{backgroundColor:"rgb(255, 244, 229)",borderStyle:"solid",borderColor:e.palette.warning.main,borderWidth:"thin",minWidth:260},tooltipArrow:{color:e.palette.warning.main},botones:{margin:e.spacing(0,1),marginTop:e.spacing(1)}}})),Ie=function(e){var t=e.mensaje,a=e.children,o=e.open,c=e.onConfirmar,l=e.onCancelar,i=Te(),s=Object(n.useState)(!1),u=Object(g.a)(s,2),m=u[0],p=u[1];return r.a.createElement(qe.a,{classes:{tooltip:i.tooltip,arrow:i.tooltipArrow},PopperProps:{disablePortal:!0},placement:"top",interactive:!0,leaveDelay:500,arrow:!0,onClose:l,open:o||m,disableFocusListener:!0,disableTouchListener:!0,title:r.a.createElement(Me.a,{severity:"warning"},r.a.createElement(Fe.a,null,t),r.a.createElement(se,{color:"warning",onClick:function(){p(!0),c()},variant:"contained",className:i.botones,inProgress:m},"S\xed"),r.a.createElement(le,{variant:"outlined",color:"warning",onClick:l,className:i.botones},"No"))},r.a.createElement("div",null,a))},Pe=Object(l.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(3)},acciones:{margin:e.spacing(0,2)}}})),ze=function(e){var t=e.mostrar,a=e.verFases,c=e.verTareas,l=e.verIteraciones,i=Object(o.useParams)().id,s=Pe(),u=(Object(o.useRouteMatch)()||{}).url,m=Object(n.useState)(!1),p=Object(g.a)(m,2),d=p[0],f=p[1],h=Object(o.useHistory)();return r.a.createElement("div",{className:s.root},r.a.createElement(Ie,{mensaje:"\xbfDar de baja proyecto?",open:d,onCancelar:function(){return f(!1)},onConfirmar:function(){x.a.delete("https://psa-proyectos.herokuapp.com/proyectos/"+i).then((function(e){})).catch((function(e){console.log(e.response)})),h.push("/proyectos")}},r.a.createElement(le,{onClick:function(){return f(!0)},disabled:!t,variant:"outlined",color:"error",className:s.acciones},"Dar de Baja")),a&&r.a.createElement(le,{onClick:function(){return h.push("".concat(u,"/fases"))},disabled:!t,variant:"outlined",color:"warning",className:s.acciones},"Ver Fases"),l&&r.a.createElement(le,{onClick:function(){return h.push("".concat(u,"/iteraciones"))},disabled:!t,variant:"outlined",color:"warning",className:s.acciones},"Ver Iteraciones"),c&&r.a.createElement(le,{onClick:function(){return h.push("".concat(u,"/tareas"))},disabled:!t,variant:"outlined",color:"warning",className:s.acciones},"Ver Tareas"),r.a.createElement(q.a,{disabled:!t,color:"secondary",variant:"contained",className:s.acciones,onClick:function(){return h.push("".concat(u,"/modificacion"))}},"Modificar"))},Ye=function(e){var t=e.url,a=Object(o.useHistory)();return r.a.createElement(le,{onClick:function(){t?a.push(t):a.goBack()},variant:"outlined",color:"warning"}," Volver")},Re=function(e){var t=e.setProyecto,a=e.proyecto,c=e.url,l=e.isFase,i=e.isIteracion,s=e.isTarea,u=Object(o.useParams)().id,m=(Object(o.useRouteMatch)()||{}).path,p=Object(o.useHistory)(),d=!(l||i||s);Object(n.useEffect)((function(){x.a.get("https://psa-proyectos.herokuapp.com"+c+"/"+u).then((function(e){t(e.data)})).catch((function(e){}))}),[u,c,t]);return r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:m},r.a.createElement(Ye,{url:c}),r.a.createElement(Ne,Object.assign({esProyecto:!0,mostrar:Boolean(a)},a)),r.a.createElement(ze,{mostrar:!0,verFases:d,verTareas:d||i,verIteraciones:l&&!i})),r.a.createElement(k,{exact:!0,path:"".concat(m,"/modificacion")},r.a.createElement(De,{onConfirm:function(e){x.a.put("https://psa-proyectos.herokuapp.com"+c,e).then((function(a){p.push("/proyectos/"+u),t(e),console.log(a)})).catch((function(e){console.log(e.response)}))},titulo:"Modificar detalles",url:c+"/"+u})))},Be=function(e){var t=e.url,a=e.titulo,c=e.elem,l=e.setElem,i=e.isFase,s=e.isTarea,m=e.isIteracion,p=e.urlReturn,d=(Object(o.useRouteMatch)()||{}).path,g=Object(o.useHistory)();return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:d},r.a.createElement(n.Fragment,null,p&&r.a.createElement(Ye,{url:p}),r.a.createElement(I,{titulo:a,url:t}),r.a.createElement(S,{mapf:function(e){return r.a.createElement(F,{proyecto:e,key:e.id||e.codigo})},url:t}))),r.a.createElement(k,{path:"".concat(d,"/crear")},r.a.createElement(De,{titulo:a,onConfirm:function(e){x.a.post("https://psa-proyectos.herokuapp.com"+t,e).then((function(e){g.push(t+"/"+e.data.id),console.log(e)})).catch((function(e){console.log(e.response)}))}})),r.a.createElement(k,{path:"".concat(d,"/:id(\\d+)")},r.a.createElement(z.a,null,r.a.createElement(Re,{proyecto:c,setProyecto:l,url:t,isFase:i,isTarea:s,isIteracion:m})))))},He=function(e){var t=e.mostrar,a=e.id,o=e.nombre,c=e.descripcion,l=e.responsable,i=e.tipo,s=e.severidad,u=e.estado,m=e.fechaDeCreacion,p=e.fechaDeActualizacion,d=e.fechaDeCierre;return r.a.createElement(n.Fragment,null,r.a.createElement(ye,{etiqueta:"C\xf3digo",mostrar:t,valor:"#".concat(a)}),r.a.createElement(ye,{etiqueta:"Nombre",mostrar:t,valor:o}),r.a.createElement(Se,{filas:3,etiqueta:"Descripci\xf3n",mostrar:t,valor:c}),r.a.createElement(ye,{etiqueta:"Responsable",mostrar:t,valor:l}),r.a.createElement(ye,{etiqueta:"Tipo",mostrar:t,valor:i&&i.capitalize()}),r.a.createElement(ye,{etiqueta:"Severidad",mostrar:t,valor:s&&s.capitalize()}),r.a.createElement(ye,{etiqueta:"Estado",mostrar:t,valor:u&&u.capitalize()}),r.a.createElement(ye,{etiqueta:"Fecha de creaci\xf3n",mostrar:t,valor:r.a.createElement(we,{fecha:m})}),r.a.createElement(ye,{etiqueta:"Fecha de actualizaci\xf3n",mostrar:t,valor:r.a.createElement(we,{fecha:p})}),r.a.createElement(ye,{etiqueta:"Fecha de cierre",mostrar:t,valor:r.a.createElement(we,{fecha:d})}))},Ae=a(597),Ve=a(598),We=a(599),Le=a(601),_e=a(602),Ge=a(600),Je=Object(l.a)((function(e){return{root:Object(c.a)({},e.breakpoints.up("md"),{minHeight:350}),comentarios:{margin:0,maxHeight:300,overflow:"auto"},item:{minHeight:"auto"},itemOpuesto:{"&:before":{flex:0,padding:0}},conector:{backgroundColor:e.palette.secondary.light},campoTexto:{width:"100%"},botonWrapper:{display:"flex",justifyContent:"flex-end"},boton:{marginTop:e.spacing(2)}}})),Ue=function(e){var t=e.mostrar,a=Je(),n=["El problema fue resuelto correctamente.","El cliente se comunic\xf3 nuevamente para informar que el problema a\xfan no fue resuelto.","Se abri\xf3 una tarea en el proyecto PSA ERP."];return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{variant:"h6"},"Comentarios:"),r.a.createElement(ve,{mostrar:t,esqueleto:r.a.createElement(je.a,{variant:"rect",height:350})},r.a.createElement(Ae.a,{className:a.comentarios},n.map((function(e,t){return r.a.createElement(Ve.a,{key:t,classes:{root:a.item,missingOppositeContent:a.itemOpuesto}},r.a.createElement(We.a,null,r.a.createElement(Ge.a,{className:a.conector}),n.length-1!==t&&r.a.createElement(Le.a,{className:a.conector})),r.a.createElement(_e.a,null,r.a.createElement(N.a,null,e)))}))),r.a.createElement(A.a,{multiline:!0,rowsMax:4,label:"Nuevo comentario",color:"secondary",className:a.campoTexto}),r.a.createElement("div",{className:a.botonWrapper},r.a.createElement(q.a,{color:"secondary",variant:"outlined",className:a.boton},"Agregar comentario"))))},Qe=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},acciones:{margin:e.spacing(0,2)}}})),Xe=function(e){var t=e.mostrar,a=e.onModificar,o=e.onEliminar,c=e.onCrearTarea,l=Qe(),i=Object(n.useState)(!1),s=Object(g.a)(i,2),u=s[0],m=s[1];return r.a.createElement("div",{className:l.root},r.a.createElement(Ie,{mensaje:"\xbfEliminar ticket?",open:u,onCancelar:function(){return m(!1)},onConfirmar:o},r.a.createElement(le,{onClick:function(){return m(!0)},disabled:!t,variant:"outlined",color:"error",className:l.acciones},"Eliminar")),r.a.createElement(le,{onClick:c,disabled:!t,variant:"outlined",color:"warning",className:l.acciones},"Crear tarea"),r.a.createElement(q.a,{disabled:!t,color:"secondary",variant:"contained",className:l.acciones,onClick:a},"Modificar"))},$e=a(634),Ke=a(635),Ze=a(607),et=a(603),tt=a(604),at=a(605),nt=a(606),rt=Object(l.a)((function(e){return{masAcciones:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3)},eliminar:{color:e.palette.error.main},crearTarea:{color:e.palette.warning.dark},modificar:{color:e.palette.info.dark},backdrop:{zIndex:1e3,backgroundColor:"rgba(0,0,0,0.34)"}}})),ot=function(e){var t=e.mostrar,a=e.onModificar,o=e.onEliminar,c=e.onCrearTarea,l=rt(),i=Object(n.useState)(!1),s=Object(g.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(g.a)(p,2),f=d[0],h=d[1],E=function(){return h(!0)},b=function(){return h(!1)};Object(n.useEffect)((function(){!u&&b()}),[u]);var v=[{icon:r.a.createElement(et.a,{className:l.modificar,onClick:a}),title:r.a.createElement("span",{className:l.modificar,onClick:a},"Modificar")},{icon:r.a.createElement(tt.a,{className:l.crearTarea,onClick:c}),title:r.a.createElement("span",{className:l.crearTarea,onClick:c},"Crear\xa0Tarea")},{icon:r.a.createElement(at.a,{className:l.eliminar,onClick:E}),title:r.a.createElement(Ie,{mensaje:"\xbfEliminar ticket?",open:f,onCancelar:b,onConfirmar:o},r.a.createElement("span",{className:l.eliminar,onClick:E},"Eliminar"))}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{open:u,className:l.backdrop}),r.a.createElement($e.a,{disabled:!t,className:l.masAcciones,icon:r.a.createElement(Ke.a,null),onClose:function(){return m(!1)},onOpen:function(){return m(!0)},open:u,FabProps:{color:"secondary",disabled:!t},ariaLabel:"acciones"},v.map((function(e,t){return r.a.createElement(Ze.a,{key:t,icon:e.icon,tooltipTitle:e.title,tooltipOpen:!0})}))))},ct=a(629),lt=a(107),it=function(e){var t=e.mostrar,a=(Object(o.useRouteMatch)()||{}).url,c=Object(o.useParams)().id,l=Object(o.useHistory)(),i=Object(n.useContext)(lt.a),s=i.setMostrar,u=i.setMensaje,m=function(){return l.push("".concat(a,"/modificacion"))},p=function(){x.a.delete("https://psa-proyectos.herokuapp.com/events/tickets/"+c).then((function(e){console.log("Ticket eliminado de proyectos")})).catch((function(e){console.log(e.response)})),x.a.delete("https://psa-soporte.herokuapp.com/tickets/"+c).then((function(e){l.push("/soporte/tickets"),u("Ticket eliminado"),s(!0)})).catch((function(e){console.log(e.response)}))},d=function(){return l.push("".concat(a,"/creacion-tarea"))};return r.a.createElement(n.Fragment,null,r.a.createElement(ct.a,{smDown:!0},r.a.createElement(Xe,{mostrar:t,onEliminar:p,onModificar:m,onCrearTarea:d})),r.a.createElement(ct.a,{mdUp:!0},r.a.createElement(ot,{mostrar:t,onEliminar:p,onModificar:m,onCrearTarea:d})))},st=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)})}})),ut=function(e){var t=e.titulo,a=e.ladoIzquierdo,n=e.ladoDerecho,o=e.fin,c=st(),l=Object(Y.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(m.a,{className:c.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(N.a,{variant:"h4"},t)),r.a.createElement(z.a,{item:!0,container:!0,spacing:l?6:2,xs:12},r.a.createElement(z.a,{item:!0,xs:12,md:6},a),r.a.createElement(z.a,{item:!0,xs:12,md:6},n)),r.a.createElement(z.a,{item:!0,xs:12},o)))},mt=a(609),pt=a(610),dt=a(611),gt=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.secondary.light},tituloTarea:{color:"white"},estado:{maxWidth:"100%",flexBasis:"100%"},descriptor:{display:"inline",color:"white",fontWeight:600},valor:{display:"inline",color:"white",fontWeight:500}}})),ft=function(e){var t=e.tarea,a=e.onClick,n=gt();return r.a.createElement(mt.a,{className:n.root,raised:!1},r.a.createElement(pt.a,{onClick:a},r.a.createElement(dt.a,null,r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(N.a,{gutterBottom:!0,variant:"h6",className:n.tituloTarea},t.nombre)),r.a.createElement(z.a,{item:!0,xs:6,className:n.estado},r.a.createElement(N.a,{className:n.descriptor},"Estado:\xa0"),r.a.createElement(N.a,{className:n.valor},t.estado.capitalize()))))))},ht=a(608),Et=Object(b.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(4)},titulo:{marginBottom:e.spacing(2)}}})),bt=Object(ht.a)()((function(e){var t=e.tareas,a=e.mostrar,n=e.width,c=Et(),l={xs:12,sm:6,md:4,lg:3},i=Object(o.useHistory)();return r.a.createElement("div",{className:c.root},r.a.createElement(N.a,{variant:"h5",className:c.titulo},"Tareas asociadas"),r.a.createElement(ve,{mostrar:a,esqueleto:r.a.createElement(z.a,{container:!0,spacing:3},Array({xs:1,sm:2,md:3,lg:4}[n]).fill(null).map((function(e,t){return r.a.createElement(z.a,Object.assign({item:!0,key:t},l),r.a.createElement(je.a,{variant:"rect",height:95}))})))},r.a.createElement(z.a,{container:!0,spacing:3},a&&(t.length>0?t.map((function(e,t){return r.a.createElement(z.a,Object.assign({key:t,item:!0},l),r.a.createElement(ft,{tarea:e,onClick:function(){return t=e.proyectoId,a=e.id,void i.push("/proyectos/".concat(t,"/tareas/").concat(a));var t,a}}))})):r.a.createElement(z.a,{item:!0,xs:10},r.a.createElement(N.a,null,"Aun no hay tareas asociadas."))))))})),vt=function(e){var t=e.ticket;return r.a.createElement(ut,{titulo:"Ver ticket",ladoIzquierdo:r.a.createElement(He,Object.assign({mostrar:Boolean(t)},t)),ladoDerecho:r.a.createElement(Ue,{mostrar:Boolean(t)}),fin:r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,Object.assign({mostrar:Boolean(t)},t)),r.a.createElement(it,{mostrar:Boolean(t)}))})},jt=function(e){var t=e.opciones,a=void 0===t?null:t,n=e.defaultValue,o=void 0===n?{}:n,c=e.url,l=void 0===c?"":c,i=e.autocompleteProps,s=void 0===i?{}:i,u=e.textFieldProps,m=void 0===u?{}:u,p=r.a.useState(!1),d=Object(g.a)(p,2),f=d[0],h=d[1],E=r.a.useState(a),b=Object(g.a)(E,2),v=b[0],j=b[1],O=f&&!v;r.a.useEffect((function(){!a&&O&&x.a.get(l).then((function(e){return j(e.data)}))}),[l,O,a]);var y=s.getOptionLabel||function(e){return e};return r.a.createElement(V.a,Object.assign({},s,{defaultValue:o,key:y(o),open:f,openOnFocus:!0,onOpen:function(){return h(!0)},onClose:function(){return h(!1)},options:v||[],noOptionsText:"No encontrado",loading:O,loadingText:"Cargando...",renderInput:function(e){return r.a.createElement(A.a,Object.assign({},m,e,{InputProps:Object(P.a)(Object(P.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,O?r.a.createElement(W.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,t){var a=t.inputValue,n=J()(y(e),a),o=_()(y(e),n);return r.a.createElement("div",null,o.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})))}}))},Ot=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),yt=function(e){var t=e.onDataChange,a=e.register,n=e.errors,o=e.ticket,c=void 0===o?{}:o,l=Ot();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:l.campo,key:"nombre"+c.nombre,defaultValue:c.nombre,onChange:function(e){return t({nombre:e.target.value})},inputProps:{"aria-label":"nombre"},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:a({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,label:"Descripci\xf3n",className:l.campo,key:"descripcion"+c.descripcion,defaultValue:c.descripcion,onChange:function(e){return t({descripcion:e.target.value})},inputProps:{"aria-label":"descripcion"},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:a({required:!0}),helperText:n.descripcion&&"La descripci\xf3n es requerida"}),r.a.createElement(jt,{defaultValue:{nombre:c.responsable},opciones:[{nombre:"Juan Perez",id:45357946},{nombre:"Sebasti\xe1n Bl\xe1zquez",id:39917487},{nombre:"Carolina Mart\xednez",id:87542369}],autocompleteProps:{getOptionLabel:function(e){return e.nombre||""},getOptionSelected:function(e,t){return e.nombre===t.nombre},onChange:function(e,a){return t({responsable:a&&a.nombre})}},textFieldProps:{label:"Responsable"}}))},Dt=a(612),Ct=function(e){var t=e.opciones,a=e.seleccionPorDefecto,o=e.onChange,c=void 0===o?function(){return null}:o,l=Object(n.useState)(a||t[0].valor),i=Object(g.a)(l,2),s=i[0],u=i[1],m=Object(Y.a)((function(e){return e.breakpoints.only("xs")}));return r.a.createElement(Dt.a,{color:"secondary",size:m?"small":"medium"},t.map((function(e){var t=e.etiqueta,a=e.valor;return r.a.createElement(q.a,{key:a,variant:s===a?"contained":"outlined",onClick:function(){u(a),c({valor:a})}},t)})))},kt=Object(l.a)((function(e){return{etiquetaSeleccionDeGrupo:{fontWeight:600,marginTop:e.spacing(2.5)}}})),wt=function(e){var t=e.onDataChange,a=e.ticket,n=void 0===a?{}:a,o=e.conEstado,c=void 0!==o&&o,l=kt();return r.a.createElement("div",null,r.a.createElement(N.a,{className:l.etiquetaSeleccionDeGrupo},"Tipo *"),r.a.createElement(Ct,{opciones:[{etiqueta:"Consulta",valor:"consulta"},{etiqueta:"Mejora",valor:"mejora"},{etiqueta:"Incidencia",valor:"incidencia"}],key:n.tipo,seleccionPorDefecto:n.tipo,onChange:function(e){var a=e.valor;return t({tipo:a})}}),r.a.createElement(N.a,{className:l.etiquetaSeleccionDeGrupo},"Severidad *"),r.a.createElement(Ct,{opciones:[{etiqueta:"Baja",valor:"baja"},{etiqueta:"Media",valor:"media"},{etiqueta:"Alta",valor:"alta"}],key:n.severidad,seleccionPorDefecto:n.severidad,onChange:function(e){var a=e.valor;return t({severidad:a})}}),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:l.etiquetaSeleccionDeGrupo},"Estado *"),r.a.createElement(Ct,{opciones:[{etiqueta:"Pendiente",valor:"pendiente"},{etiqueta:"Iniciado",valor:"iniciado"},{etiqueta:"Cerrado",valor:"cerrado"}],key:n.estado,seleccionPorDefecto:n.estado,onChange:function(e){var a=e.valor;return t({estado:a})}})))},xt=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},accion:{margin:e.spacing(0,2)},progreso:{marginRight:e.spacing(1.5)}}})),St=function(e){var t=e.onConfirmar,a=e.textoConfirmar,n=e.esperando,c=xt(),l=Object(o.useHistory)();return r.a.createElement("div",{className:c.acciones},r.a.createElement(se,{color:"info",variant:"outlined",onClick:t,inProgress:n},a),r.a.createElement(le,{color:"error",variant:"outlined",onClick:function(){return l.goBack()}},"Cancelar"))},Nt=function(e){var t=e.ticket,a=e.onTicketChange,c=Object(H.b)(),l=c.register,i=c.errors,s=c.handleSubmit,u=Object(n.useState)(t),m=Object(g.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),E=h[0],b=h[1],v=function(e){return d(Object(P.a)(Object(P.a)({},p),e))},j=Object(o.useHistory)(),O=Object(o.useParams)().id;Object(n.useEffect)((function(){d(t)}),[t]);return r.a.createElement(ut,{titulo:"Modificar Ticket",ladoIzquierdo:r.a.createElement(yt,{ticket:t,errors:i,register:l,onDataChange:v}),ladoDerecho:r.a.createElement(wt,{conEstado:!0,ticket:t,onDataChange:v}),fin:r.a.createElement(St,{esperando:E,textoConfirmar:"Modificar",onConfirmar:s((function(){b(!0),x.a.put("https://psa-soporte.herokuapp.com/tickets/"+O,p).then((function(e){a(Object(P.a)(Object(P.a)({},t),e.data)),j.push("/soporte/tickets/".concat(e.data.id)),console.log(e)})).catch((function(e){console.log(e.response)}))}))})})},Mt=a(28),Ft=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),qt=function(e){var t=e.onDataChange,a=e.register,n=e.errors,o=Ft();return r.a.createElement("div",null,r.a.createElement(A.a,{rows:8,rowsMax:16,multiline:!0,className:o.campo,label:"Descripci\xf3n",onChange:function(e){return t({descripcion:e.target.value})},inputProps:{"aria-label":"descripcion"},required:!0,name:"descripcion",error:Boolean(n.descripcion),inputRef:a({required:!0}),helperText:n.descripcion&&"La descripci\xf3n es requerida"}))},Tt=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),It=function(e){var t=e.onDataChange,a=e.register,n=e.errors,o=Tt();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:o.campo,onChange:function(e){return t({nombre:e.target.value})},inputProps:{"aria-label":"nombre"},required:!0,name:"nombre",error:Boolean(n.nombre),inputRef:a({required:!0}),helperText:n.nombre&&"El nombre es requerido"}),r.a.createElement(jt,{url:"https://psa-proyectos.herokuapp.com/proyectos",autocompleteProps:{getOptionLabel:function(e){return e.nombre||""},getOptionSelected:function(e,t){return e.nombre===t.nombre},onChange:function(e,a){return t({proyectoId:a&&a.id})}},textFieldProps:{label:"Proyecto",required:!0,name:"proyecto",error:Boolean(n.proyecto),inputRef:a({required:!0}),helperText:n.descripcion&&"El proyecto es requerido"}}))},Pt=function(e){var t=e.ticket,a=e.onTicketChange,c=Object(H.b)(),l=c.register,i=c.errors,s=c.handleSubmit,u=Object(n.useState)({estado:"no iniciada"}),m=Object(g.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(!1),h=Object(g.a)(f,2),E=h[0],b=h[1],v=function(e){return d(Object(P.a)(Object(P.a)({},p),e))},j=Object(o.useHistory)();Object(n.useEffect)((function(){t&&d((function(e){return Object(P.a)(Object(P.a)({},e),{},{tickets:[t.id]})}))}),[t]);return r.a.createElement(ut,{titulo:"Crear Tarea",ladoIzquierdo:r.a.createElement(It,{errors:i,register:l,onDataChange:v}),ladoDerecho:r.a.createElement(qt,{errors:i,register:l,onDataChange:v}),fin:r.a.createElement(St,{onConfirmar:s((function(){b(!0),console.log(p),x.a.post("".concat("https://psa-proyectos.herokuapp.com","/proyectos/").concat(p.proyectoId,"/tareas"),p).then((function(e){console.log(e),a(Object(P.a)(Object(P.a)({},t),{},{tareas:[].concat(Object(Mt.a)(t.tareas),[e.data])})),j.push("/soporte/tickets/".concat(t.id))})).catch((function(e){console.log(e)}))})),esperando:E,textoConfirmar:"Crear"})})},zt=function(e){var t=e.ticket,a=e.onTicketChange,c=Object(o.useParams)().id,l=(Object(o.useRouteMatch)()||{}).path;return Object(n.useEffect)((function(){!t&&c&&Promise.all([x.a.get("https://psa-soporte.herokuapp.com/tickets/"+c),x.a.get("https://psa-proyectos.herokuapp.com/tareas",{params:{ticketId:c}})]).then((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];console.log(n.data,r.data),a(Object(P.a)(Object(P.a)({},n.data),{},{tareas:r.data}))}))}),[t,a,c]),Object(n.useEffect)((function(){return function(){return t&&a(void 0)}}),[a,t]),r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:l},r.a.createElement(vt,{ticket:t})),r.a.createElement(k,{exact:!0,path:"".concat(l,"/modificacion")},r.a.createElement(Nt,{ticket:t,onTicketChange:a})),r.a.createElement(k,{exact:!0,path:"".concat(l,"/creacion-tarea")},r.a.createElement(Pt,{ticket:t,onTicketChange:a})))},Yt=function(e){var t=e.onTicketChange,a=Object(H.b)(),c=a.register,l=a.errors,i=a.handleSubmit,s=Object(n.useState)({tipo:"consulta",severidad:"baja"}),u=Object(g.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(!1),f=Object(g.a)(d,2),h=f[0],E=f[1],b=function(e){return p(Object(P.a)(Object(P.a)({},m),e))},v=Object(o.useHistory)();return r.a.createElement(ut,{titulo:"Crear Ticket",ladoIzquierdo:r.a.createElement(yt,{errors:l,register:c,onDataChange:b}),ladoDerecho:r.a.createElement(wt,{errors:l,register:c,onDataChange:b}),fin:r.a.createElement(St,{onConfirmar:i((function(){E(!0),console.log(m),x.a.post("https://psa-soporte.herokuapp.com/tickets",m).then((function(e){console.log(e),t(Object(P.a)(Object(P.a)({},e.data),{},{tareas:[]})),v.push("/soporte/tickets/".concat(e.data.id))})).catch((function(e){console.log(e.response)}))})),esperando:h,textoConfirmar:"Crear"})})},Rt=a(614),Bt=a(615),Ht=a(617),At=a(613),Vt=a(618),Wt=a(616),Lt=Object(l.a)({table:{minWidth:"100%"},skeleton:{top:0,left:0,width:"100%","& td":{width:"100%"},"& tr":{display:"flex"}}}),_t=function(e){var t=e.rows,a=e.columns,n=Lt();return r.a.createElement(At.a,{component:m.a,className:n.skeleton},r.a.createElement(Rt.a,{className:n.table},r.a.createElement(Bt.a,null,Array(t).fill(null).map((function(e,t){return r.a.createElement(Wt.a,{key:t},Array(a).fill(null).map((function(e,t){return r.a.createElement(Ht.a,{key:t},r.a.createElement(je.a,null))})))})))))},Gt=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],c=t[1],l=(Object(o.useRouteMatch)()||{}).url,i=Object(o.useHistory)(),s=Object(Y.a)((function(e){return e.breakpoints.up("md")}));Object(n.useEffect)((function(){x.a.get("https://psa-soporte.herokuapp.com/tickets").then((function(e){c(e.data)})).catch((function(e){}))}),[]);return r.a.createElement(ve,{mostrar:a,esqueleto:r.a.createElement(_t,{rows:6,columns:s?6:3})},r.a.createElement(At.a,{component:m.a},r.a.createElement(Rt.a,null,r.a.createElement(Vt.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Ht.a,null,"Nombre"),s&&r.a.createElement(n.Fragment,null,r.a.createElement(Ht.a,null,"Descripci\xf3n"),r.a.createElement(Ht.a,null,"Responsable")),r.a.createElement(Ht.a,null,"Tipo"),r.a.createElement(Ht.a,null,"Severidad"),s&&r.a.createElement(Ht.a,null,"Estado"))),r.a.createElement(Bt.a,null,a&&a.filter((function(e){return"cerrado"!==e.estado})).map((function(e){return r.a.createElement(Wt.a,{hover:!0,key:e.id,onClick:function(){return t=e.id,void i.push("".concat(l,"/").concat(t));var t}},r.a.createElement(Ht.a,null,e.nombre),s&&r.a.createElement(n.Fragment,null,r.a.createElement(Ht.a,null,(t=e.descripcion,a=45,t.length>a&&(t=(t=t.substr(0,a)).substr(0,Math.min(t.length,t.lastIndexOf(" ")))+"..."),t)),r.a.createElement(Ht.a,null,e.responsable)),r.a.createElement(Ht.a,null,e.tipo.capitalize()),r.a.createElement(Ht.a,null,e.severidad.capitalize()),s&&r.a.createElement(Ht.a,null,e.estado.capitalize()));var t,a}))))))},Jt=a(41),Ut=Object(l.a)((function(e){return{acciones:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(3),marginRight:e.spacing(3)}}})),Qt=function(e){var t=e.url,a=e.texto,n=Ut();return r.a.createElement("div",{className:n.acciones},r.a.createElement(q.a,{color:"secondary",variant:"contained",to:t,component:Jt.a},a))},Xt=function(){var e=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(n.Fragment,null,r.a.createElement(Gt,null),r.a.createElement(Qt,{url:"".concat(e,"/creacion"),texto:"Nuevo ticket"}))},$t=function(){var e=(Object(o.useRouteMatch)()||{}).path,t=Object(n.useState)(),a=Object(g.a)(t,2),c=a[0],l=a[1],i=Object(n.useCallback)((function(e){return l(e)}),[]);return r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:e},r.a.createElement(Xt,null)),r.a.createElement(k,{path:"".concat(e,"/creacion")},r.a.createElement(Yt,{onTicketChange:i})),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(zt,{ticket:c,onTicketChange:i})))},Kt=Object(l.a)((function(e){return{root:{width:"fit-content",minWidth:"80%",margin:"auto"}}})),Zt=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],c=t[1],l=(Object(o.useRouteMatch)()||{}).url,i=Object(o.useHistory)(),s=Kt();Object(n.useEffect)((function(){x.a.get("https://psa-soporte.herokuapp.com/clientes").then((function(e){c(e.data)})).catch((function(e){}))}),[]);var u=Object(Y.a)((function(e){return e.breakpoints.down("sm")}));return r.a.createElement("div",{className:s.root},r.a.createElement(ve,{mostrar:a,esqueleto:r.a.createElement(_t,{rows:6,columns:u?3:5})},r.a.createElement(At.a,{component:m.a},r.a.createElement(Rt.a,null,r.a.createElement(Vt.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Ht.a,null,"Nombre"),r.a.createElement(ct.a,{smDown:!0},r.a.createElement(Ht.a,null,"Raz\xf3n Social"),r.a.createElement(Ht.a,null,"CUIT")),r.a.createElement(Ht.a,null,"Estado"),r.a.createElement(Ht.a,null,"Fecha desde que es cliente"))),r.a.createElement(Bt.a,null,a&&a.map((function(e){return r.a.createElement(Wt.a,{hover:!0,key:e.id,onClick:function(){return t=e.id,i.push("".concat(l,"/").concat(t));var t}},r.a.createElement(Ht.a,null,e.nombre),r.a.createElement(ct.a,{smDown:!0},r.a.createElement(Ht.a,null,e.razonSocial),r.a.createElement(Ht.a,null,e.cuit)),r.a.createElement(Ht.a,null,e.estado.capitalize()),r.a.createElement(Ht.a,null,r.a.createElement(we,{fecha:e.fechaDesdeQueEsCliente.capitalize(),formato:"DD/MM/YYYY"})))})))))))},ea=function(){var e=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt,null),r.a.createElement(Qt,{url:"".concat(e,"/creacion"),texto:"Nuevo cliente"}))},ta=a(282),aa=Object(l.a)((function(e){return{cuit:{"& input[type=number]::-webkit-inner-spin-button, & input[type=number]::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0}}}})),na=function(e){var t=e.onDataChange,a=e.control,n=e.errors,o=e.defaultValue,c=void 0===o?"":o,l=e.className,i=void 0===l?"":l,s=aa(),u={required:"El CUIT es requerido",pattern:"El CUIT se compone de 11 n\xfameros",validate:"El CUIT no es valido"};return r.a.createElement(H.a,{name:"cuit",rules:{required:!0,pattern:/^[0-9]{11}$/,validate:function(e){if(11!==e.length)return!1;var t=e.split("").map(Number).reverse(),a=Object(ta.a)(t),n=a[0],r=11-a.slice(1).reduce((function(e,t,a){return e+t*(2+a%6)}),0)%11;return 11===r?0===n:10!==r&&n===r}},control:a,key:c,defaultValue:c,render:function(e){var a=e.onChange,o=e.value;return r.a.createElement(A.a,{onChange:function(e){var n=e.target.value.slice(0,11);t({cuit:n}),a(n)},value:o,label:"CUIT",className:"".concat(s.cuit," ").concat(i),required:!0,type:"number",error:Boolean(n.cuit),helperText:n.cuit&&u[n.cuit.type]})}})},ra=Object(l.a)((function(e){return{campo:{width:"100%",marginBottom:e.spacing(2.5)}}})),oa=function(e){var t=e.onDataChange,a=e.control,n=e.register,o=e.errors,c=e.cliente,l=void 0===c?{}:c,i=ra();return r.a.createElement("div",null,r.a.createElement(A.a,{label:"Nombre",className:i.campo,key:l.nombre,defaultValue:l.nombre,onChange:function(e){return t({nombre:e.target.value})},required:!0,name:"nombre",error:Boolean(o.nombre),inputRef:n({required:!0}),helperText:o.nombre&&"El nombre es requerido"}),r.a.createElement(A.a,{label:"Raz\xf3n Social",className:i.campo,key:l.razonSocial,defaultValue:l.razonSocial,onChange:function(e){return t({razonSocial:e.target.value})},required:!0,name:"razonSocial",error:Boolean(o.razonSocial),inputRef:n({required:!0}),helperText:o.razonSocial&&"La raz\xf3n social es requerida"}),r.a.createElement(na,{onDataChange:t,control:a,errors:o,defaultValue:l.cuit,className:i.campo}))},ca=a(622),la=function(e){var t=e.label,a=e.onDataChange,n=e.control,o=e.defaultValue,c=void 0===o?null:o,l=Object(O.a)(e,["label","onDataChange","control","defaultValue"]);return r.a.createElement(H.a,{name:"fechaDesdeQueEsCliente",key:c,defaultValue:c,control:n,rules:{required:!0,validate:function(e){return!e.isValid||e.isValid()}},render:function(e){var n=e.onChange,o=e.value;return r.a.createElement(ca.a,Object.assign({},l,{onChange:function(e){n(e),a({fechaDesdeQueEsCliente:e.format("YYYY-MM-DD")})},autoOk:!0,disableToolbar:!0,variant:"inline",format:"DD/MM/YYYY",margin:"normal",label:t,value:o}))}})},ia=Object(l.a)((function(e){return{root:{marginTop:e.spacing(1)}}})),sa=function(e){var t=e.onDataChange,a=e.control,n=e.errors,o=e.cliente,c=void 0===o?{}:o,l=ia();return r.a.createElement("div",{className:l.root},r.a.createElement(N.a,{className:l.etiquetaSeleccionDeGrupo},"Estado *"),r.a.createElement(Ct,{opciones:[{etiqueta:"Activo",valor:"activo"},{etiqueta:"Inactivo",valor:"inactivo"}],key:c.estado,seleccionPorDefecto:c.estado,onChange:function(e){var a=e.valor;return t({estado:a})}}),r.a.createElement("div",{className:l.fecha},r.a.createElement(la,{label:"Fecha desde que es cliente",defaultValue:c.fechaDesdeQueEsCliente,onDataChange:t,required:!0,error:Boolean(n.fechaDesdeQueEsCliente),helperText:n.fechaDesdeQueEsCliente&&{required:"La fecha desde la que es cliente es requerida",validate:"La fecha no es v\xe1lida"}[n.fechaDesdeQueEsCliente.type],control:a})))},ua=function(){var e=Object(H.b)(),t=e.control,a=e.register,c=e.errors,l=e.handleSubmit,i=Object(n.useState)({estado:"activo"}),s=Object(g.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(g.a)(p,2),f=d[0],h=d[1],E=function(e){return m(Object(P.a)(Object(P.a)({},u),e))},b=Object(o.useHistory)();return r.a.createElement(ut,{titulo:"Cargar cliente",ladoIzquierdo:r.a.createElement(oa,{errors:c,register:a,control:t,onDataChange:E}),ladoDerecho:r.a.createElement(sa,{errors:c,control:t,register:a,onDataChange:E}),fin:r.a.createElement(St,{onConfirmar:l((function(){h(!0),console.log(u),x.a.post("https://psa-soporte.herokuapp.com/clientes",u).then((function(e){b.push("/soporte/clientes/".concat(e.data.id)),console.log(e)})).catch((function(e){console.log(e.response)}))})),esperando:f,textoConfirmar:"Crear"})})},ma=function(e){var t=e.mostrar,a=e.nombre,o=e.razonSocial,c=e.cuit;return r.a.createElement(n.Fragment,null,r.a.createElement(ye,{etiqueta:"Nombre",mostrar:t,valor:a}),r.a.createElement(ye,{etiqueta:"Raz\xf3n social",mostrar:t,valor:o}),r.a.createElement(ye,{etiqueta:"CUIT",mostrar:t,valor:c}))},pa=function(e){var t=e.mostrar,a=e.fechaDesdeQueEsCliente,o=e.estado,c=e.id;return r.a.createElement(n.Fragment,null,r.a.createElement(ye,{etiqueta:"C\xf3digo de cliente",mostrar:t,valor:"#".concat(c)}),r.a.createElement(ye,{etiqueta:"Estado",mostrar:t,valor:o&&o.capitalize()}),r.a.createElement(ye,{etiqueta:"Fecha desde que es cliente",mostrar:t,valor:r.a.createElement(we,{fecha:a,formato:"DD/MM/YYYY"})}))},da=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},acciones:Object(c.a)({margin:e.spacing(0,2)},e.breakpoints.down("xs"),{margin:e.spacing(0,1)})}})),ga=function(e){var t=e.mostrar,a=e.onModificar,n=da();return r.a.createElement("div",{className:n.root},r.a.createElement(q.a,{disabled:!t,color:"secondary",variant:"contained",className:n.acciones,onClick:a},"Modificar"))},fa=function(e){var t=e.mostrar,a=(Object(o.useRouteMatch)()||{}).url,c=Object(o.useHistory)();return r.a.createElement(n.Fragment,null,r.a.createElement(ga,{mostrar:t,onModificar:function(){return c.push("".concat(a,"/modificacion"))}}))},ha=function(e){var t=e.cliente;return r.a.createElement(ut,{titulo:"Ver cliente",ladoIzquierdo:r.a.createElement(ma,Object.assign({mostrar:Boolean(t)},t)),ladoDerecho:r.a.createElement(pa,Object.assign({mostrar:Boolean(t)},t)),fin:r.a.createElement(fa,{mostrar:Boolean(t)})})},Ea=function(e){var t=e.cliente,a=e.onClienteChange,c=Object(H.b)(),l=c.control,i=c.register,s=c.errors,u=c.handleSubmit,m=Object(n.useState)(t),p=Object(g.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(!1),E=Object(g.a)(h,2),b=E[0],v=E[1],j=function(e){return f(Object(P.a)(Object(P.a)({},d),e))},O=Object(o.useHistory)(),y=Object(o.useParams)().id;Object(n.useEffect)((function(){f(t)}),[t]);return r.a.createElement(ut,{titulo:"Modificar cliente",ladoIzquierdo:r.a.createElement(oa,{errors:s,register:i,control:l,onDataChange:j,cliente:t}),ladoDerecho:r.a.createElement(sa,{errors:s,control:l,register:i,onDataChange:j,cliente:t}),fin:r.a.createElement(St,{onConfirmar:u((function(){v(!0),console.log(d),x.a.put("https://psa-soporte.herokuapp.com/clientes/"+y,d).then((function(e){console.log(e),a(e.data),O.push("/soporte/clientes/".concat(e.data.id))})).catch((function(e){console.log(e.response)}))})),esperando:b,textoConfirmar:"Modificar"})})},ba=function(){var e=Object(o.useParams)().id,t=(Object(o.useRouteMatch)()||{}).path,a=Object(n.useState)(),c=Object(g.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){e&&x.a.get("https://psa-soporte.herokuapp.com/clientes/"+e).then((function(e){i(e.data)}))}),[e]),r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:t},r.a.createElement(ha,{cliente:l})),r.a.createElement(k,{exact:!0,path:"".concat(t,"/modificacion")},r.a.createElement(Ea,{cliente:l,onClienteChange:function(e){return i(e)}})))},va=function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:e},r.a.createElement(ea,null)),r.a.createElement(k,{path:"".concat(e,"/creacion")},r.a.createElement(ua,null)),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(ba,null)))},ja=a(39),Oa=a(25),ya=a(63),Da=a.n(ya),Ca=(a(188),a(27)),ka=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(Ca.a)();return Object(n.useEffect)((function(){var e;return x.a.get("https://psa-soporte.herokuapp.com/reportes/ticketsAcumuladosPorDia").then((function(t){o(t.data.map((function(e){var t=e.dia;return{cantidad:e.cantidad,dia:Da()(t,"YYYY-MM-DD")}}))),e=setTimeout((function(){return o((function(e){return Object(Mt.a)(e)}))}),500)})),function(){return clearTimeout(e)}}),[]),r.a.createElement(ve,{mostrar:a,esqueleto:r.a.createElement(je.a,{variant:"rect",height:280})},a&&r.a.createElement(m.a,null,r.a.createElement(ja.b,{data:a,style:{display:"flex"},height:280},r.a.createElement(ja.f,{text:"Tickets pendientes"}),r.a.createElement(ja.a,{showGrid:!0,tickFormat:function(){return function(e){return Da()(e).format("MMM Do")}}}),r.a.createElement(ja.h,null),r.a.createElement(Oa.m,{modifyDomain:function(e){return[0,e[1]+5]}}),r.a.createElement(ja.d,{name:"tickets acumulados por d\xeda",argumentField:"dia",valueField:"cantidad",color:c.palette.secondary.main}),r.a.createElement(Oa.a,null),r.a.createElement(Oa.e,null),r.a.createElement(ja.g,null))))},wa=Object(l.a)((function(e){return{root:{marginTop:e.spacing(1.5)}}})),xa=function(e){var t=e.children,a=wa();return r.a.createElement(z.a,{container:!0,justify:"center",className:a.root},n.Children.toArray(t).map((function(e,t){return r.a.createElement(z.a,{item:!0,key:t},e)})))},Sa=a(624),Na=a(207),Ma=(ge=Na.a,fe={stroke:"white",strokeWidth:"1px"},function(e){var t=e.arg,a=e.val,n=e.color;return r.a.createElement("path",{fill:n,transform:"translate(".concat(t," ").concat(a,")"),d:Object(Sa.a)().size([Math.pow(10,2)]).type(ge)(),style:fe})}),Fa=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.d.Path,e),r.a.createElement(ja.e.Path,Object.assign({},e,{pointComponent:Ma})))},qa=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(Ca.a)();return Object(n.useEffect)((function(){var e;return x.a.get("https://psa-soporte.herokuapp.com/reportes/ticketsAbiertosYCerradosPorDia").then((function(t){o(t.data.map((function(e){var t=e.dia,a=Object(O.a)(e,["dia"]);return Object(P.a)({dia:Da()(t,"YYYY-MM-DD")},a)}))),e=setTimeout((function(){return o((function(e){return Object(Mt.a)(e)}))}),500)})),function(){return clearTimeout(e)}}),[]),r.a.createElement(ve,{mostrar:a,esqueleto:r.a.createElement(je.a,{variant:"rect",height:330})},a&&r.a.createElement(m.a,null,r.a.createElement(ja.b,{data:a,height:330,style:{display:"flex"}},r.a.createElement(ja.f,{text:"Tickets abiertos y cerrados por d\xeda"}),r.a.createElement(ja.a,{showGrid:!0,tickFormat:function(){return function(e){return Da()(e).format("MMM Do")}}}),r.a.createElement(ja.h,{tickFormat:function(){return function(e){return e%1===0?e.toString():""}}}),r.a.createElement(Oa.m,{modifyDomain:function(e){return[0,e[1]+1]}}),r.a.createElement(ja.d,{name:"Tickets abiertos",argumentField:"dia",valueField:"cantidadAbiertos",color:c.palette.secondary.main,seriesComponent:Fa}),r.a.createElement(ja.d,{name:"Tickets cerrados",argumentField:"dia",valueField:"cantidadCerrados",color:c.palette.primary.main,seriesComponent:Fa}),r.a.createElement(ja.c,{position:"bottom",rootComponent:xa}),r.a.createElement(Oa.a,null),r.a.createElement(Oa.e,null),r.a.createElement(ja.g,null))))},Ta=a(620),Ia=Object(l.a)((function(e){return{paper:Object(c.a)({padding:e.spacing(5)},e.breakpoints.only("xs"),{padding:e.spacing(2)}),linkTicket:{marginBottom:e.spacing(2)},linkCliente:{marginTop:e.spacing(4)},ticketsAcumulados:{marginTop:e.spacing(4)}}})),Pa=function(){var e=Ia(),t=(Object(o.useRouteMatch)()||{}).url;return r.a.createElement(m.a,{className:e.paper},r.a.createElement("div",{className:e.linkTicket},r.a.createElement(Ta.a,{variant:"h4",color:"secondary",component:Jt.a,to:"".concat(t,"/tickets")},"Tickets")),r.a.createElement(qa,null),r.a.createElement("div",{className:e.ticketsAcumulados},r.a.createElement(ka,null)),r.a.createElement("div",{className:e.linkCliente},r.a.createElement(Ta.a,{variant:"h4",color:"secondary",component:Jt.a,to:"".concat(t,"/clientes")},"Clientes")))},za=Object(l.a)({root:{position:"relative"},nuevoEmpleado:{display:"flex",justifyContent:"flex-end",marginTop:"50px"}}),Ya=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],c=t[1],l=za({empleados:a}),i=(Object(o.useRouteMatch)()||{}).url;return Object(n.useEffect)((function(){x.a.get("https://recursos-psa.herokuapp.com/employees").then((function(e){console.log(e),c(e.data)})).catch((function(e){}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(z.a,{container:!0,spacing:3,direction:"row",justify:"space-between"},r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{style:{marginTop:"20px"},color:"secondary",variant:"contained",disabled:!0},"Buscar")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{style:{marginTop:"20px"},color:"secondary",variant:"contained",to:"".concat(i,"/creacion"),component:Jt.a},"Nuevo recurso")),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(At.a,{component:m.a},r.a.createElement(Rt.a,{className:l.table},r.a.createElement(Vt.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Ht.a,null,"DNI"),r.a.createElement(Ht.a,null,"Nombre y apellido"),r.a.createElement(Ht.a,null,"Contrato"),r.a.createElement(Ht.a,null,"Puesto"),r.a.createElement(Ht.a,null))),r.a.createElement(Bt.a,null,a&&a.map((function(e){return r.a.createElement(Wt.a,null,r.a.createElement(Ht.a,null,e.dni),r.a.createElement(Ht.a,null,e.name+" "+e.surname),r.a.createElement(Ht.a,null,"F"===e.contract?"Full time":"Part time"),r.a.createElement(Ht.a,null,e.pos),r.a.createElement(Ht.a,null,r.a.createElement(q.a,{color:"primary",variant:"contained",to:"".concat(i,"/").concat(e.dni),component:Jt.a},"+ Info")))}))))))))},Ra=a(116),Ba=a.n(Ra),Ha=(a(140),Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),campo:{width:"100%",marginBottom:e.spacing(2.5)}}}))),Aa=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),parseInt(n+t+a,10)},Va=function(e){var t=e.toString();return new Date(t.slice(0,4)+"/"+t.slice(4,6)+"/"+t.slice(6,8))},Wa=function(){var e,t=Ha(),a=Object(o.useParams)().id,c=(Object(o.useRouteMatch)()||{}).path,l=Object(n.useState)(),i=Object(g.a)(l,2),s=i[0],u=i[1],p=Object(n.useState)(),d=Object(g.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)(),b=Object(g.a)(E,2),v=b[0],O=b[1],y=Object(o.useHistory)(),D=Object(n.useState)(),C=Object(g.a)(D,2),w=C[0],S=C[1];return Object(n.useEffect)((function(){a&&x.a.get("https://recursos-psa.herokuapp.com/employees/"+a).then((function(e){u(e.data),O(Va(e.data.date_birth)),h(Va(e.data.date_hire)),S(e.data.dni)}))}),[a]),r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:c},r.a.createElement(m.a,{className:t.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},s&&r.a.createElement(N.a,{variant:"h4"},s.name+" "+s.surname)),r.a.createElement(z.a,{item:!0,container:!0,spacing:3,xs:12},r.a.createElement(z.a,{item:!0,xs:12,md:6},s&&r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{className:t.campo,defaultValue:s.dni,label:"DNI",onChange:function(e){return s.dni=e.target.value}}),r.a.createElement(A.a,{className:t.campo,defaultValue:s.name,label:"Nombre",onChange:function(e){return s.name=e.target.value}}),r.a.createElement(A.a,{className:t.campo,defaultValue:s.surname,label:"Apellido",onChange:function(e){return s.surname=e.target.value}}),r.a.createElement(Ba.a,{selected:v,onChange:function(e){s.date_birth=Aa(e),O(e)},customInput:r.a.createElement(A.a,{className:t.campo,label:"Fecha de nacimiento",onChange:function(e){return s.date_birth=e.target.value}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:t.campo,defaultValue:s.organization_id,label:"Legajo",onChange:function(e){return s.organization_id=e.target.value}}),r.a.createElement(Ba.a,{selected:f,onChange:function(e){s.date_hire=Aa(e),h(e)},customInput:r.a.createElement(A.a,{className:t.campo,value:(e=s.date_hire.toString(),e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)),label:"Fecha de contrataci\xf3n",onChange:function(e){console.log("Holaa"),s.date_hire=Aa(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:t.campo,defaultValue:s.pos,label:"Puesto",onChange:function(e){return s.pos=e.target.value}}),r.a.createElement(Z.a,{className:t.formControl,style:{width:"40%"}},r.a.createElement($.a,{id:"demo-controlled-open-select-label"},"Contrato"),r.a.createElement(ee.a,{defaultValue:s.contract,labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){s.contract=e.target.value}},r.a.createElement(K.a,{value:"F"},"Full time"),r.a.createElement(K.a,{value:"P"},"Part time")))))),r.a.createElement(z.a,{item:!0,container:!0,xs:12,spacing:3,justify:"flex-end"},r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{onClick:function(){s.dni&&s.name&&s.surname&&s.organization_id&&s.date_birth&&s.date_hire&&s.pos&&s.contract?(s.active=!0,x.a.put("https://recursos-psa.herokuapp.com/employees/"+w,s).then((function(e){y.push("/recursos"),console.log(e)})).catch((function(e){console.log(e.response)}))):console.log("No hay info")},color:"secondary",variant:"outlined"},"Modificar recurso")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{style:{color:"red"},onClick:function(){y.push("/recursos/"+s.dni)},color:"inherit",variant:"outlined"},"Cancelar")))))))};function La(e,t,a){for(var n in t)a[e]+=t[n].hours}var _a=Object(l.a)((function(e){var t;return{root:(t={padding:e.spacing(4,6)},Object(c.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),Object(c.a)(t,"flexGrow",1),t),paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},campo:{width:"100%",marginBottom:e.spacing(2.5)},nuevoEmpleado:{},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),Ga=function(e){var t=new Date,a=String(t.getMonth()+1).padStart(2,"0"),n=String(e).padStart(2,"0"),r=t.getFullYear();return console.log(r+a+n,10),parseInt(r+a+n,10)},Ja=function(e){var t=_a(),a=Object(n.useState)(),o=Object(g.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(),s=Object(g.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(),d=Object(g.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)(),b=Object(g.a)(E,2),v=b[0],j=b[1],O=Object(n.useState)(),y=Object(g.a)(O,2),D=y[0],C=y[1],k=Object(n.useState)(),w=Object(g.a)(k,2),S=w[0],M=w[1],F=[0];return Object(n.useEffect)((function(){e.dni&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+e.dni+"/day/"+Ga(e.nroDia)).then((function(e){console.log(e),M(e.data)})).catch((function(e){}))}),[e.dni,e.nroDia]),La(0,S,F),r.a.createElement(z.a,{item:!0,container:!0,xs:!0,justify:"center",alignItems:"center",style:{maxWidth:"260px"}},r.a.createElement(n.Fragment,null,r.a.createElement(mt.a,{className:t.root,variant:"outlined"},r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h5",component:"h2",align:"center",style:{color:e.esHoy?"red":"black"}},e.dia)),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h5",component:"h2",align:"center",style:{color:e.esHoy?"red":"black"}},e.nroDia)),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(Z.a,{disabled:e.desactivado,className:t.formControl,style:{width:"100%"}},r.a.createElement($.a,{id:"demo-controlled-open-select-label"},"Categor\xeda"),r.a.createElement(ee.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){h(e.target.value)}},r.a.createElement(K.a,{value:"proyecto"},"Proyectos"),r.a.createElement(K.a,{onClick:function(){j(null),m(null)},value:"soporte"},"Soporte"),r.a.createElement(K.a,{onClick:function(){j(null),m(null)},value:"estudio"},"Estudio"),r.a.createElement(K.a,{onClick:function(){j(null),m(null)},value:"fuera de oficina"},"Trabajo fuera de oficina")))),r.a.createElement(z.a,{item:!0,xs:!0},"proyecto"===f&&r.a.createElement(Z.a,{className:t.formControl,style:{width:"100%"}},r.a.createElement($.a,{id:"demo-controlled-open-select-label"},"Proyecto"),r.a.createElement(ee.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",defaultValue:v,value:v,onChange:function(e){j(e.target.value),console.log(e.target.value),x.a.get("https://psa-proyectos.herokuapp.com/proyectos/"+e.target.value+"/tareas").then((function(e){C(e.data)}))}},e.proyectos&&e.proyectos.map((function(e){return r.a.createElement(K.a,{onClick:function(){m(null),console.log(u)},value:e.id},e.nombre)}))))),r.a.createElement(z.a,{item:!0,xs:!0},"proyecto"===f&&v&&r.a.createElement(Z.a,{className:t.formControl,style:{width:"100%"}},r.a.createElement($.a,{id:"demo-controlled-open-select-label"},"Tarea"),r.a.createElement(ee.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){m(e.target.value)},defaultValue:u,value:u},D&&D.map((function(e){return r.a.createElement(K.a,{value:e.id},e.nombre)}))))),r.a.createElement(z.a,{item:!0,xs:!0},r.a.createElement(A.a,{disabled:e.desactivado,type:"number",className:t.campo,label:"Horas",onChange:function(e){return l(e.target.value)}})),r.a.createElement(z.a,{item:!0,container:!0,xs:!0,justify:"center",alignItems:"center"},r.a.createElement(q.a,{style:{marginTop:"10px",marginBottom:"15px"},disabled:e.desactivado,onClick:function(){var t={employeeDni:parseInt(e.dni,10),hours:parseInt(c,10),taskId:parseInt(u,10),projectId:parseInt(v,10),category:f,date:Ga(e.nroDia)};console.log(t),"proyecto"!==t.category||t.taskId?t.employeeDni&&t.hours&&t.category&&t.date?(t.taskId||t.projectId||(t.taskId=1,t.projectId=1),console.log(t),x.a.post("https://recursos-psa.herokuapp.com/hours",t).then((function(t){console.log(t),e.dni&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+e.dni+"/day/"+Ga(e.nroDia)).then((function(e){console.log(e),M(e.data)})).catch((function(e){})),La(0,S,F)})).catch((function(e){console.log(e.response)}))):console.log("No hay info"):console.log("No hay una tarea asignada")},color:"secondary",variant:"outlined"},"Cargar")),r.a.createElement(z.a,{item:!0,container:!0,xs:!0,justify:"center",alignItems:"center"},!e.desactivado&&r.a.createElement(Z.a,{className:t.formControl,style:{width:"100%"}},r.a.createElement(N.a,{variant:"h15",align:"center"},"Horas cargadas: "+F))))))},Ua=a(284),Qa=a.n(Ua),Xa=a(285),$a=a.n(Xa),Ka=a(111),Za=a.n(Ka),en=Object(l.a)((function(e){var t;return{root:(t={padding:e.spacing(4,6)},Object(c.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),Object(c.a)(t,"flexGrow",1),t),paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},campo:{width:"100%",marginBottom:e.spacing(2.5)},nuevoEmpleado:{},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),tn=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),parseInt(n+t+a,10)},an=function(){switch((new Date).getDay()){case 0:return(new Date).getDate()+1;case 1:return(new Date).getDate()+0;case 2:return(new Date).getDate()-1;case 3:return(new Date).getDate()-2;case 4:return(new Date).getDate()-3;case 5:return(new Date).getDate()-4;case 6:return(new Date).getDate()-5;default:return 0}},nn=function(){var e=en(),t=(Object(o.useRouteMatch)()||{}).path,a=Object(o.useParams)().id,c=Object(n.useState)(),l=Object(g.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(),p=Object(g.a)(u,2),d=p[0],f=p[1],h=Object(o.useHistory)(),E=Object(n.useState)(new Date),b=Object(g.a)(E,2),v=b[0],O=b[1],y=Object(n.useState)(new Date),D=Object(g.a)(y,2),C=D[0],w=D[1],S=Object(n.useState)(new Date),M=Object(g.a)(S,2),F=M[0],T=M[1],I=Object(n.useState)(new Date),P=Object(g.a)(I,2),Y=P[0],R=P[1],B=Object(n.useState)(new Date),H=Object(g.a)(B,2),A=H[0],V=H[1],W=Object(n.useState)(new Date),L=Object(g.a)(W,2),_=L[0],G=L[1],J=Object(n.useState)(new Date),U=Object(g.a)(J,2),Q=U[0],X=U[1];Object(n.useEffect)((function(){s(a),a&&x.a.get("https://psa-proyectos.herokuapp.com/proyectos").then((function(e){f(e.data),console.log(e.data)})),O((new Date).setDate(an())),w((new Date).setDate(an()+1)),T((new Date).setDate(an()+2)),R((new Date).setDate(an()+3)),V((new Date).setDate(an()+4)),G((new Date).setDate(an()+5)),X((new Date).setDate(an()+6))}),[a]);var $=function(e){new Date(new Date(v).setDate(new Date(v).getDate()-1)).getMonth()<(new Date).getMonth()&&-1===e||new Date(new Date(A).setDate(new Date(A).getDate()+1)).getMonth()>(new Date).getMonth()&&1===e||(O(new Date(v).setDate(new Date(v).getDate()+7*e)),w(new Date(C).setDate(new Date(C).getDate()+7*e)),T(new Date(F).setDate(new Date(F).getDate()+7*e)),R(new Date(Y).setDate(new Date(Y).getDate()+7*e)),V(new Date(A).setDate(new Date(A).getDate()+7*e)),G(new Date(_).setDate(new Date(_).getDate()+7*e)),X(new Date(Q).setDate(new Date(Q).getDate()+7*e)))};return r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:t},r.a.createElement(m.a,{className:e.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Za.a,{style:{color:"1fc71f"},fontSize:"large",onClick:function(){h.push("/recursos/"+i)}})),r.a.createElement(z.a,{item:!0,container:!0,xs:12,justify:"space-between",alignItems:"center"},r.a.createElement(z.a,{item:!0},r.a.createElement(N.a,{variant:"h4"},"Cargar horas")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{color:"secondary",variant:"outlined",onClick:function(){h.push("/recursos/"+i+"/horascargadasgrafico")}},"Ver horas cargadas"))),r.a.createElement(z.a,{container:!0,spacing:3,style:{marginTop:"15px"},direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Qa.a,{onClick:function(){$(-1)}}),r.a.createElement(Ja,{esHoy:tn(new Date(v))===tn(new Date),desactivado:new Date(v).getMonth()!==(new Date).getMonth()||new Date(v).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Lunes",nroDia:new Date(v).getDate()}),r.a.createElement(Ja,{esHoy:tn(new Date(C))===tn(new Date),desactivado:new Date(C).getMonth()!==(new Date).getMonth()||new Date(C).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Martes",nroDia:new Date(C).getDate()}),r.a.createElement(Ja,{esHoy:tn(new Date(F))===tn(new Date),desactivado:new Date(F).getMonth()!==(new Date).getMonth()||new Date(F).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Mi\xe9rcoles",nroDia:new Date(F).getDate()}),r.a.createElement(Ja,{esHoy:tn(new Date(Y))===tn(new Date),desactivado:new Date(Y).getMonth()!==(new Date).getMonth()||new Date(Y).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Jueves",nroDia:new Date(Y).getDate()}),r.a.createElement(Ja,{esHoy:tn(new Date(A))===tn(new Date),desactivado:new Date(A).getMonth()!==(new Date).getMonth()||new Date(A).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Viernes",nroDia:new Date(A).getDate()}),r.a.createElement($a.a,{onClick:function(){$(1)}}),r.a.createElement(Ja,{esHoy:tn(new Date(_))===tn(new Date),desactivado:new Date(_).getMonth()!==(new Date).getMonth()||new Date(_).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Sabado",nroDia:new Date(_).getDate()}),r.a.createElement(Ja,{esHoy:tn(new Date(Q))===tn(new Date),desactivado:new Date(Q).getMonth()!==(new Date).getMonth()||new Date(Q).getDate()>(new Date).getDate(),dni:i,proyectos:d,dia:"Domingo",nroDia:new Date(Q).getDate()}))))))},rn=a(170);function on(e,t,a){for(var n in t)"proyecto"===t[n].category?(t[n].taskId in a||(a[t[n].taskId]=[0,0,0,0,0]),a[t[n].taskId][e]+=t[n].hours):(t[n].category in a||(a[t[n].category]=[0,0,0,0,0]),a[t[n].category][e]+=t[n].hours)}var cn=["rgba(84,153,199,1)","rgba(231,76,60,1)","rgba(26,188,156,1)","rgba(243,156,18,1)","rgba(52,73,94,1)","rgba(144,148,151,1)","rgba(241,196,15,1)"],ln=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],sn=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)})}})),un=function(){var e=sn(),t=Object(n.useState)(),a=Object(g.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),s=Object(g.a)(i,2),u=s[0],p=s[1],d=Object(n.useState)(),f=Object(g.a)(d,2),h=f[0],E=f[1],b=Object(n.useState)(),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(n.useState)(),D=Object(g.a)(y,2),C=D[0],k=D[1],w=Object(o.useParams)().id,S=Object(o.useHistory)(),M={labels:["Lunes "+new Date((new Date).setDate((new Date).getDate()-(new Date).getDay()+1)).getDate(),"Martes "+new Date((new Date).setDate((new Date).getDate()-(new Date).getDay()+2)).getDate(),"Miercoles "+new Date((new Date).setDate((new Date).getDate()-(new Date).getDay()+3)).getDate(),"Jueves "+new Date((new Date).setDate((new Date).getDate()-(new Date).getDay()+4)).getDate(),"Viernes "+new Date((new Date).setDate((new Date).getDate()-(new Date).getDay()+5)).getDate()],datasets:[]};Object(n.useEffect)((function(){console.log("ID !!!!!!!!!!!!!!!!"),console.log(w);var e=new Date,t=e.getDay(),a=new Date;a.setDate(e.getDate()-t+1);var n=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),o=a.getFullYear();w&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+w+"/day/"+o+r+n).then((function(e){console.log(e),l(e.data)})).catch((function(e){}));var c=new Date;c.setDate(e.getDate()-t+2),n=String(c.getDate()).padStart(2,"0"),r=String(c.getMonth()+1).padStart(2,"0"),o=c.getFullYear(),w&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+w+"/day/"+o+r+n).then((function(e){console.log(e),p(e.data)})).catch((function(e){}));var i=new Date;i.setDate(e.getDate()-t+3),n=String(i.getDate()).padStart(2,"0"),r=String(i.getMonth()+1).padStart(2,"0"),o=i.getFullYear(),w&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+w+"/day/"+o+r+n).then((function(e){console.log(e),E(e.data)})).catch((function(e){}));var s=new Date;s.setDate(e.getDate()-t+4),n=String(s.getDate()).padStart(2,"0"),r=String(s.getMonth()+1).padStart(2,"0"),o=s.getFullYear(),w&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+w+"/day/"+o+r+n).then((function(e){console.log(e),O(e.data)})).catch((function(e){}));var u=new Date;u.setDate(e.getDate()-t+5),n=String(u.getDate()).padStart(2,"0"),r=String(u.getMonth()+1).padStart(2,"0"),o=u.getFullYear(),w&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+w+"/day/"+o+r+n).then((function(e){console.log(e),k(e.data)})).catch((function(e){}))}),[w]);var F={};console.log(c),console.log(u),console.log(h),console.log(j),console.log(C),on(0,c,F),on(1,u,F),on(2,h,F),on(3,j,F),on(4,C,F);var q=0;for(var T in F){var I=T;isNaN(I)||(I="Tarea "+T),M.datasets.push({label:I,backgroundColor:cn[q],data:F[T],borderWidth:{top:10},borderColor:"rgba(250,250,250,1)",hoverBorderColor:"rgba(250,250,250,1)",hoverBorderWidth:11}),q+=1}return console.log("State: !!!!!!!!!!!!"),console.log(M),r.a.createElement(m.a,{className:e.root},r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Za.a,{style:{color:"1fc71f"},fontSize:"large",onClick:function(){S.push("/recursos/"+w)}})),r.a.createElement(z.a,{item:!0,container:!0,xs:12,justify:"center"},r.a.createElement(N.a,{variant:"h4"},"Horas cargadas - "+ln[(new Date).getMonth()]+" "+(new Date).getFullYear().toString())),r.a.createElement(z.a,{item:!0,xs:12,style:{maxHeight:"100%",marginTop:"20px"}},r.a.createElement(rn.a,{data:M,options:{legend:{display:!1,position:"right"},scales:{xAxes:[{stacked:!0}],yAxes:[{display:!1,stacked:!0}]}}}))))},mn=a(537),pn=a(287),dn=a.n(pn);function gn(e,t,a){for(var n in t)a[e]+=t[n].hours}var fn=Object(l.a)({root:{position:"relative"},nuevaHora:{display:"flex",justifyContent:"flex-end",marginTop:"50px"}}),hn=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),i=Object(g.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),p=Object(g.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(),E=Object(g.a)(h,2),b=E[0],v=E[1],j=Object(n.useState)(),O=Object(g.a)(j,2),y=O[0],D=O[1],C=Object(n.useState)(),k=Object(g.a)(C,2),w=k[0],S=k[1],N=Object(n.useState)(),M=Object(g.a)(N,2),F=M[0],q=M[1],T=Object(n.useState)(),I=Object(g.a)(T,2),P=I[0],z=I[1],Y=Object(n.useState)(),R=Object(g.a)(Y,2),B=R[0],H=R[1],A=Object(n.useState)(),V=Object(g.a)(A,2),W=V[0],L=V[1],_=Object(n.useState)(),G=Object(g.a)(_,2),J=G[0],U=G[1],Q=Object(n.useState)(),X=Object(g.a)(Q,2),$=X[0],K=X[1],Z=Object(o.useParams)().id,ee=fn({horasEnero:a}),te={labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[]};Object(n.useEffect)((function(){console.log("ID !!!!!!!!!!!!!!!!"),console.log(Z);var e=String(1).padStart(2,"0"),t=String(1).padStart(2,"0"),a=(new Date).getFullYear();Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),c(e.data)})).catch((function(e){})),t=String(2).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),u(e.data)})).catch((function(e){})),t=String(3).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),f(e.data)})).catch((function(e){})),t=String(4).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),v(e.data)})).catch((function(e){})),t=String(5).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),D(e.data)})).catch((function(e){})),t=String(6).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),S(e.data)})).catch((function(e){})),t=String(7).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),q(e.data)})).catch((function(e){})),t=String(8).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),z(e.data)})).catch((function(e){})),t=String(9).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),H(e.data)})).catch((function(e){})),t=String(10).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),L(e.data)})).catch((function(e){})),t=String(11).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),U(e.data)})).catch((function(e){})),t=String(12).padStart(2,"0"),a=(new Date).getFullYear(),Z&&x.a.get("https://recursos-psa.herokuapp.com/hours/"+Z+"/month/"+a+t+e).then((function(e){console.log(e),K(e.data)})).catch((function(e){}))}),[Z]);var ae=[0,0,0,0,0,0,0,0,0,0,0,0];return console.log(a),console.log(s),console.log(d),console.log(b),console.log(y),console.log(w),console.log(F),console.log(P),console.log(B),console.log(W),console.log(J),console.log($),gn(0,a,ae),gn(1,s,ae),gn(2,d,ae),gn(3,b,ae),gn(4,y,ae),gn(5,w,ae),gn(6,F,ae),gn(7,P,ae),gn(8,B,ae),gn(9,W,ae),gn(10,J,ae),gn(11,$,ae),te.datasets.push({backgroundColor:"rgb(0,128,255)",data:ae,borderWidth:4,borderColor:"rgb(77,166,255)",hoverBorderWidth:2}),console.log("State: !!!!!!!!!!!!"),console.log(te),console.log("Horas Cargadas"),console.log(ae),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:ee.nuevaHora}),r.a.createElement(rn.a,{data:te,options:{title:{display:!0,text:"Horas cargadas "+(new Date).getFullYear().toString(),fontSize:20},legend:{display:!1,position:"right"},scales:{xAxes:[{display:!0}],yAxes:[{display:!1}]}}}))};function En(){return Math.round(20*Math.random())-10}function bn(){var e=50+En(),t=50+En();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var vn=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),jn=function(e){return e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)},On=function(){var e=vn(),t=Object(o.useParams)().id,a=(Object(o.useRouteMatch)()||{}).path,c=(Object(o.useRouteMatch)()||{}).url,l=Object(n.useState)(),i=Object(g.a)(l,2),s=i[0],u=i[1],p=Object(n.useContext)(lt.a),d=p.setMostrar,f=p.setMensaje,h=r.a.useState(bn),E=Object(g.a)(h,1)[0],b=r.a.useState(!1),v=Object(g.a)(b,2),O=v[0],y=v[1],D=Object(o.useHistory)(),C=function(){y(!1)},w=r.a.createElement("div",{style:E,className:e.paper},r.a.createElement(z.a,{container:!0,spacing:1,alignItems:"center",justify:"center"},r.a.createElement(z.a,{item:!0,container:!0,xs:12,justify:"center"},r.a.createElement("h2",{id:"simple-modal-title"},"Usted est\xe1 por eliminar un empleado")),r.a.createElement(z.a,{item:!0},r.a.createElement(dn.a,{style:{color:"red",fontSize:50}})),r.a.createElement(z.a,{item:!0},r.a.createElement("h3",{id:"simple-modal-description"},"Esta acci\xf3n no puede ser deshecha")),r.a.createElement(z.a,{item:!0,container:!0,xs:12,justify:"center"},r.a.createElement("h3",{id:"simple-modal-description"},"\xbfDesea eliminarlo?"))),r.a.createElement(mn.a,null),r.a.createElement(q.a,{style:{marginLeft:"20px",color:"red"},onClick:function(){S()},color:"inherit",variant:"outlined"},"Eliminar"),r.a.createElement(q.a,{style:{marginLeft:"80px"},onClick:C,color:"secondary",variant:"outlined"},"Cancelar")),S=function(){x.a.delete("https://recursos-psa.herokuapp.com/employees/"+s.dni).then((function(e){D.push("/recursos"),f("Empleado eliminado"),d(!0)})).catch((function(e){console.log(e.response)}))};return Object(n.useEffect)((function(){t&&x.a.get("https://recursos-psa.herokuapp.com/employees/"+t).then((function(e){u(e.data)}))}),[t]),r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:a},r.a.createElement(m.a,{className:e.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(Za.a,{style:{color:"1fc71f"},fontSize:"large",onClick:function(){D.push("/recursos/")}})),r.a.createElement(z.a,{item:!0,xs:12},s&&r.a.createElement(N.a,{variant:"h4"},s.name+" "+s.surname)),r.a.createElement(z.a,{item:!0,container:!0,spacing:6,xs:12,alignItems:"center",justify:"baseline"},r.a.createElement(z.a,{item:!0,xs:12,md:6},s&&r.a.createElement(n.Fragment,null,r.a.createElement(N.a,null,"DNI: ",s.dni),r.a.createElement(N.a,null,"Fecha de nacimiento: ",jn(s.date_birth.toString())),r.a.createElement(N.a,null,"Legajo: ",s.organization_id),r.a.createElement(N.a,null,"Fecha de contrataci\xf3n: ",jn(s.date_hire.toString())),r.a.createElement(N.a,null,"Antig\xfcedad : ",Math.floor((12*((new Date).getFullYear()-Math.floor(s.date_hire/1e4))+((new Date).getMonth()+1-Math.floor(s.date_hire%1e4/100)))/12)," a\xf1os ",Math.floor((12*((new Date).getFullYear()-Math.floor(s.date_hire/1e4))+((new Date).getMonth()+1-Math.floor(s.date_hire%1e4/100)))%12)," meses"),r.a.createElement(N.a,null,"Contrato: ","F"===s.contract?"Full time":"Part time"),r.a.createElement(N.a,null,"Puesto: ",s.pos))),r.a.createElement(z.a,{item:!0,container:!0,xs:6,alignItems:"center",justify:"center"},r.a.createElement(hn,null))),r.a.createElement(z.a,{item:!0,container:!0,spacing:3,direction:"row",xs:12,justify:"space-between"},r.a.createElement(z.a,{item:!0,container:!0,spacing:3,xs:6,justify:"flex-start"},r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{color:"secondary",variant:"outlined",to:"".concat(c,"/modificacion"),component:Jt.a},"Modificar")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{type:"button",style:{color:45487954==t?"grey":"red"},onClick:function(){y(!0)},color:"inherit",variant:"outlined",disabled:45487954==t},"Eliminar"))),r.a.createElement(z.a,{item:!0,container:!0,spacing:3,xs:6,justify:"center"},r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{color:"secondary",variant:"outlined",to:"".concat(c,"/horascargadasgrafico"),component:Jt.a},"Ver horas cargadas")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{color:"secondary",variant:"outlined",to:"".concat(c,"/cargarhora"),component:Jt.a},"Cargar horas"))))),r.a.createElement("div",{className:e.nuevoEmpleado},r.a.createElement(mn.a,{open:O,onClose:C,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},w)))),r.a.createElement(k,{exact:!0,path:"".concat(a,"/cargarhora")},r.a.createElement(nn,null)),r.a.createElement(k,{exact:!0,path:"".concat(a,"/modificacion")},r.a.createElement(Wa,null)),r.a.createElement(k,{exact:!0,path:"".concat(a,"/horascargadasgrafico")},r.a.createElement(un,null)))},yn=Object(l.a)((function(e){return{root:Object(c.a)({padding:e.spacing(4,6)},e.breakpoints.down("xs"),{padding:e.spacing(2,2)}),campo:{width:"100%",marginBottom:e.spacing(2.5)},nuevoEmpleado:{}}})),Dn=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),parseInt(n+t+a,10)},Cn=function(){var e=yn(),t=(Object(o.useRouteMatch)()||{}).path,a=Object(n.useState)(),c=Object(g.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(),u=Object(g.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(),h=Object(g.a)(f,2),E=h[0],b=h[1],v=Object(n.useState)(),O=Object(g.a)(v,2),y=O[0],D=O[1],C=Object(n.useState)(),w=Object(g.a)(C,2),S=w[0],M=w[1],F=Object(n.useState)(),T=Object(g.a)(F,2),I=T[0],P=T[1],Y=Object(n.useState)(),R=Object(g.a)(Y,2),B=R[0],H=R[1],V=Object(n.useState)(),W=Object(g.a)(V,2),L=W[0],_=W[1],G=Object(o.useHistory)();return r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:t},r.a.createElement(m.a,{className:e.root},r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(N.a,{variant:"h4"},"Nuevo Empleado")),r.a.createElement(z.a,{item:!0,container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12,md:6},r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{className:e.campo,label:"DNI",onChange:function(e){return i(e.target.value)}}),r.a.createElement(A.a,{className:e.campo,label:"Nombre",onChange:function(e){return d(e.target.value)}}),r.a.createElement(A.a,{className:e.campo,label:"Apellido",onChange:function(e){return b(e.target.value)}}),r.a.createElement(Ba.a,{selected:S,onChange:function(e){return M(e)},customInput:r.a.createElement(A.a,{className:e.campo,label:"Fecha de nacimiento",onChange:function(e){return M(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:e.campo,label:"Legajo",onChange:function(e){return D(e.target.value)}}),r.a.createElement(Ba.a,{selected:I,onChange:function(e){return P(e)},customInput:r.a.createElement(A.a,{className:e.campo,label:"Fecha de contrataci\xf3n",onChange:function(e){return P(e.target.value)}}),dateFormat:"dd/MM/yyyy",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),r.a.createElement(A.a,{className:e.campo,label:"Puesto",onChange:function(e){return _(e.target.value)}}),r.a.createElement(Z.a,{className:e.formControl,style:{width:"40%"}},r.a.createElement($.a,{id:"demo-controlled-open-select-label"},"Contrato"),r.a.createElement(ee.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",onChange:function(e){H(e.target.value)}},r.a.createElement(K.a,{value:"F"},"Full time"),r.a.createElement(K.a,{value:"P"},"Part time"))))),r.a.createElement(z.a,{item:!0,container:!0,xs:12,spacing:3,justify:"flex-end"},r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{onClick:function(){!function(){if(S&&I){var e={dni:parseInt(l,10),name:p,surname:E,organization_id:parseInt(y,10),date_birth:Dn(S),date_hire:Dn(I),pos:L,contract:B};e.dni&&e.name&&e.surname&&e.organization_id&&e.date_birth&&e.date_hire&&e.pos&&e.contract?(e.active=!0,x.a.post("https://recursos-psa.herokuapp.com/employees",e).then((function(e){G.push("/recursos"),console.log(e)})).catch((function(e){console.log(e.response)}))):console.log("No hay info")}else console.log("Ingrese la fecha")}()},color:"secondary",variant:"outlined"},"Crear Recurso")),r.a.createElement(z.a,{item:!0},r.a.createElement(q.a,{style:{color:"red"},onClick:function(){G.push("/recursos/")},variant:"outlined",color:"inherit"},"Cancelar"))))))))},kn=[{label:"Proyectos",route:"/proyectos",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path,t=Object(n.useState)({}),a=Object(g.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),s=Object(g.a)(i,2),m=s[0],p=s[1],d=Object(n.useState)({}),f=Object(g.a)(d,2),h=f[0],E=f[1],b=function(e){return e.id||e.codigo};return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(k,{path:e},r.a.createElement(n.Fragment,null,r.a.createElement(Be,{elem:c,setElem:l,titulo:"Nuevo Proyecto",url:"/proyectos",isProyecto:!0}))),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)/fases")},r.a.createElement(Be,{elem:m,setElem:p,titulo:"Nueva Fase",url:"/proyectos/"+b(c)+"/fases",isFase:c,urlReturn:"/proyectos/"+b(c)})),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)/tareas")},r.a.createElement(Be,{elem:m,setElem:p,titulo:"Nueva Tarea",url:"/proyectos/"+b(c)+"/tareas",isTarea:c,urlReturn:"/proyectos/"+b(c)})),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)/fases/:id(\\d+)/iteraciones")},r.a.createElement(Be,{elem:h,setElem:E,titulo:"Nueva Tarea",url:"/proyectos/"+b(c)+"/fases/"+b(m)+"/iteraciones",isIteracion:c,isFase:m,urlReturn:"/proyectos/"+b(c)+"/fases/"+b(m)}))))}},{label:"Soporte",route:"/soporte",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:e},r.a.createElement(Pa,null)),r.a.createElement(k,{path:"".concat(e,"/tickets")},r.a.createElement($t,null)),r.a.createElement(k,{path:"".concat(e,"/clientes")},r.a.createElement(va,null))))}},{label:"Recursos",route:"/recursos",Component:function(){var e=(Object(o.useRouteMatch)()||{}).path;return r.a.createElement(u,null,r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:e},r.a.createElement(Ya,null)),r.a.createElement(k,{path:"".concat(e,"/creacion")},r.a.createElement(Cn,null)),r.a.createElement(k,{path:"".concat(e,"/:id(\\d+)")},r.a.createElement(On,null))))}}];t.b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Route,{exact:!0,strict:!0,path:"(.*//+.*)",render:function(e){var t=e.location;return r.a.createElement(o.Redirect,{to:t.pathname.replace(/\/\/+/g,"/")})}}),r.a.createElement(j,null,r.a.createElement(k,{exact:!0,path:"/"},r.a.createElement(d,null)),kn.map((function(e,t){e.label;var a=e.route,n=e.Component;return r.a.createElement(k,{path:a,key:t},r.a.createElement(n,null))}))))}}},[[318,1,2]]]);
//# sourceMappingURL=main.eb2a1fb0.chunk.js.map